(function(st,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],d):(st=typeof globalThis<"u"?globalThis:st||self,d(st["vue3-gird-layout"]={},st.Vue))})(this,function(st,d){"use strict";var ps=Object.defineProperty;var gs=(st,d,Rt)=>d in st?ps(st,d,{enumerable:!0,configurable:!0,writable:!0,value:Rt}):st[d]=Rt;var Ot=(st,d,Rt)=>(gs(st,typeof d!="symbol"?d+"":d,Rt),Rt);function Rt(e){let t=0,i;for(let n=0,o=e.length;n<o;n++)i=e[n].y+e[n].h,i>t&&(t=i);return t}function De(e){const t=Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=wi(e[i]);return t}function wi(e){return JSON.parse(JSON.stringify(e))}function an(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function jt(e,t,i){const n=un(e),o=dn(e),r=Array(e.length);for(let s=0,a=o.length;s<a;s++){let l=o[s];l.static||(l=Si(n,l,t,i),n.push(l)),r[e.indexOf(l)]=l,l.moved=!1}return r}function Si(e,t,i,n){if(i)for(;t.y>0&&!Kt(e,t);)t.y--;else if(n){const r=n[t.i].y;for(;t.y>r&&!Kt(e,t);)t.y--}let o;for(;o=Kt(e,t);)t.y=o.y+o.h;return t}function Ei(e,t){const i=un(e);for(let n=0,o=e.length;n<o;n++){const r=e[n];if(r.x+r.w>t.cols&&(r.x=t.cols-r.w),r.x<0&&(r.x=0,r.w=t.cols),!r.static)i.push(r);else for(;Kt(i,r);)r.y++}return e}function ln(e,t){for(let i=0,n=e.length;i<n;i++)if(e[i].i===t)return e[i]}function Kt(e,t){for(let i=0,n=e.length;i<n;i++)if(an(e[i],t))return e[i]}function cn(e,t){return e.filter(i=>an(i,t))}function un(e){return e.filter(t=>t.static)}function Ce(e,t,i,n,o,r){if(t.static)return e;const s=t.x,a=t.y,l=n&&t.y>n;typeof i=="number"&&(t.x=i),typeof n=="number"&&(t.y=n),t.moved=!0;let c=dn(e);l&&(c=c.reverse());const u=cn(c,t);if(r&&u.length)return t.x=s,t.y=a,t.moved=!1,e;for(let f=0,m=u.length;f<m;f++){const y=u[f];y.moved||t.y>y.y&&t.y-y.y>y.h/4||(y.static?e=fn(e,y,t,o):e=fn(e,t,y,o))}return e}function fn(e,t,i,n){if(n){const r={x:i.x,y:i.y,w:i.w,h:i.h,i:"-1"};if(r.y=Math.max(t.y-i.h,0),!Kt(e,r))return Ce(e,i,void 0,r.y,!1)}return Ce(e,i,void 0,i.y+1,!1)}function Ti(e,t,i,n){const o="translate3d("+t+"px,"+e+"px, 0)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:i+"px",height:n+"px",position:"absolute"}}function Ii(e,t,i,n){const o="translate3d("+t*-1+"px,"+e+"px, 0)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:i+"px",height:n+"px",position:"absolute"}}function zi(e,t,i,n){return{top:e+"px",left:t+"px",width:i+"px",height:n+"px",position:"absolute"}}function _i(e,t,i,n){return{top:e+"px",right:t+"px",width:i+"px",height:n+"px",position:"absolute"}}function dn(e){return[].concat(e).sort(function(i,n){return i.y===n.y&&i.x===n.x?0:i.y>n.y||i.y===n.y&&i.x>n.x?1:-1})}function Mi(e,t){t=t||"Layout";const i=["x","y","w","h"],n=[];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let o=0,r=e.length;o<r;o++){const s=e[o];for(let a=0;a<i.length;a++)if(typeof s[i[a]]!="number")throw new Error("VueGridLayout: "+t+"["+o+"]."+i[a]+" must be a number!");if(s.i===void 0||s.i===null)throw new Error("VueGridLayout: "+t+"["+o+"].i cannot be null!");if(typeof s.i!="number"&&typeof s.i!="string")throw new Error("VueGridLayout: "+t+"["+o+"].i must be a string or number!");if(n.indexOf(s.i)>=0)throw new Error("VueGridLayout: "+t+"["+o+"].i must be unique!");if(n.push(s.i),s.static!==void 0&&typeof s.static!="boolean")throw new Error("VueGridLayout: "+t+"["+o+"].static must be a boolean!")}}function hn(e){return Di(e)}function Di(e){const t=e.target,i=t.offsetParent||document.body,n=t.offsetParent===document.body?{left:0,top:0}:i.getBoundingClientRect(),o=e.clientX+i.scrollLeft-n.left,r=e.clientY+i.scrollTop-n.top;return{x:o,y:r}}function pn(e,t,i,n){return Ci(e)?{deltaX:i-e,deltaY:n-t,lastX:e,lastY:t,x:i,y:n}:{deltaX:0,deltaY:0,lastX:i,lastY:n,x:i,y:n}}function Ci(e){return typeof e=="number"&&!isNaN(e)}function Pi(e,t){const i=gn(e);let n=i[0];for(let o=1,r=i.length;o<r;o++){const s=i[o];t>e[s]&&(n=s)}return n}function Pe(e,t){if(!t[e])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function ki(e,t,i,n,o,r,s){if(t[n])return De(t[n]);let a=e;const l=gn(i),c=l.slice(l.indexOf(n));for(let u=0,f=c.length;u<f;u++){const m=c[u];if(t[m]){a=t[m];break}}return a=De(a||[]),jt(Ei(a,{cols:r}),s)}function gn(e){return Object.keys(e).sort(function(i,n){return e[i]-e[n]})}let Ai="auto";function Oi(){return typeof document<"u"}function mn(){return typeof window<"u"}function vn(){return Oi()?typeof document.dir<"u"?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir")||"auto":Ai}function Ri(e,t){return mn?(window.addEventListener(e,t),!0):(t(),!1)}function Hi(e,t){!mn||window.removeEventListener(e,t)}const q={init:$i,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function Xt(){}function $i(e){const t=e;q.document=t.document,q.DocumentFragment=t.DocumentFragment||Xt,q.SVGElement=t.SVGElement||Xt,q.SVGSVGElement=t.SVGSVGElement||Xt,q.SVGElementInstance=t.SVGElementInstance||Xt,q.Element=t.Element||Xt,q.HTMLElement=t.HTMLElement||q.Element,q.Event=t.Event,q.Touch=t.Touch||Xt,q.PointerEvent=t.PointerEvent||t.MSPointerEvent}var yn=e=>!!(e&&e.Window)&&e instanceof e.Window;let bn,It;function xn(e){bn=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),It=e}typeof window<"u"&&!!window&&xn(window);function Ht(e){return yn(e)?e:(e.ownerDocument||e).defaultView||It.window}const Bi=e=>e===It||yn(e),Li=e=>ce(e)&&e.nodeType===11,ce=e=>!!e&&typeof e=="object",wn=e=>typeof e=="function";var g={window:Bi,docFrag:Li,object:ce,func:wn,number:e=>typeof e=="number",bool:e=>typeof e=="boolean",string:e=>typeof e=="string",element:e=>{if(!e||typeof e!="object")return!1;const t=Ht(e)||It;return/object|function/.test(typeof Element)?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:e=>ce(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),array:e=>ce(e)&&typeof e.length<"u"&&wn(e.splice)};const K={init:Wi,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function Wi(e){const t=q.Element,i=e.navigator||{};K.supportsTouch="ontouchstart"in e||g.func(e.DocumentTouch)&&q.document instanceof e.DocumentTouch,K.supportsPointerEvent=i.pointerEnabled!==!1&&!!q.PointerEvent,K.isIOS=/iP(hone|od|ad)/.test(i.platform),K.isIOS7=/iP(hone|od|ad)/.test(i.platform)&&/OS 7[^\d]/.test(i.appVersion),K.isIe9=/MSIE 9/.test(i.userAgent),K.isOperaMobile=i.appName==="Opera"&&K.supportsTouch&&/Presto/.test(i.userAgent),K.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",K.pEventTypes=K.supportsPointerEvent?q.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,K.wheelEvent=q.document&&"onmousewheel"in q.document?"mousewheel":"wheel"}const Sn=(e,t)=>{for(const i of t)e.push(i);return e},En=e=>Sn([],e),ue=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1},fe=(e,t)=>e[ue(e,t)];function Yt(e){const t={};for(const i in e){const n=e[i];g.plainObject(n)?t[i]=Yt(n):g.array(n)?t[i]=En(n):t[i]=n}return t}function P(e,t){for(const n in t)e[n]=t[n];return e}let Tn=0,bt,$t;function Fi(e){if(bt=e.requestAnimationFrame,$t=e.cancelAnimationFrame,!bt){const t=["ms","moz","webkit","o"];for(const i of t)bt=e[`${i}RequestAnimationFrame`],$t=e[`${i}CancelAnimationFrame`]||e[`${i}CancelRequestAnimationFrame`]}bt=bt&&bt.bind(e),$t=$t&&$t.bind(e),bt||(bt=t=>{const i=Date.now(),n=Math.max(0,16-(i-Tn)),o=e.setTimeout(()=>{t(i+n)},n);return Tn=i+n,o},$t=t=>clearTimeout(t))}var Gt={request:e=>bt(e),cancel:e=>$t(e),init:Fi};function qt(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o=>!0,n=arguments.length>3?arguments[3]:void 0;if(n=n||{},g.string(e)&&e.search(" ")!==-1&&(e=In(e)),g.array(e))return e.forEach(o=>qt(o,t,i,n)),n;if(g.object(e)&&(t=e,e=""),g.func(t)&&i(e))n[e]=n[e]||[],n[e].push(t);else if(g.array(t))for(const o of t)qt(e,o,i,n);else if(g.object(t))for(const o in t){const r=In(o).map(s=>`${e}${s}`);qt(r,t[o],i,n)}return n}function In(e){return e.trim().split(/ +/)}function zn(e,t){for(const i of t){if(e.immediatePropagationStopped)break;i(e)}}class _n{constructor(t){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=P({},t||{})}fire(t){let i;const n=this.global;(i=this.types[t.type])&&zn(t,i),!t.propagationStopped&&n&&(i=n[t.type])&&zn(t,i)}on(t,i){const n=qt(t,i);for(t in n)this.types[t]=Sn(this.types[t]||[],n[t])}off(t,i){const n=qt(t,i);for(t in n){const o=this.types[t];if(!(!o||!o.length))for(const r of n[t]){const s=o.indexOf(r);s!==-1&&o.splice(s,1)}}}getRect(t){return null}}function Bt(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Mn(e,t){for(;g.element(e);){if(Lt(e,t))return e;e=zt(e)}return null}function zt(e){let t=e.parentNode;if(g.docFrag(t)){for(;(t=t.host)&&g.docFrag(t););return t}return t}function Lt(e,t){return It!==bn&&(t=t.replace(/\/deep\//g," ")),e[K.prefixedMatchesSelector](t)}function ke(e,t,i){for(;g.element(e);){if(Lt(e,t))return!0;if(e=zt(e),e===i)return Lt(e,t)}return!1}function Dn(e){return e.correspondingUseElement||e}function Ni(e){return e=e||It,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Ae(e){const t=e instanceof q.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Oe(e){const t=Ae(e);if(!K.isIOS7&&t){const i=Ni(Ht(e));t.left+=i.x,t.right+=i.x,t.top+=i.y,t.bottom+=i.y}return t}function Cn(e){return g.string(e)?(q.document.querySelector(e),!0):!1}const ji=["webkit","moz"];function Pn(e,t){e.__set||(e.__set={});for(const i in t)ji.some(n=>i.indexOf(n)===0)||typeof e[i]!="function"&&i!=="__set"&&Object.defineProperty(e,i,{get(){return i in e.__set?e.__set[i]:e.__set[i]=t[i]},set(n){e.__set[i]=n},configurable:!0});return e}var de=(e,t)=>Math.sqrt(e*e+t*t);function Re(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function Xi(e,t,i){e.page.x=i.page.x-t.page.x,e.page.y=i.page.y-t.page.y,e.client.x=i.client.x-t.client.x,e.client.y=i.client.y-t.client.y,e.timeStamp=i.timeStamp-t.timeStamp}function Yi(e,t){const i=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/i,e.page.y=t.page.y/i,e.client.x=t.client.x/i,e.client.y=t.client.y/i,e.timeStamp=i}function Gi(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function kn(e){return e instanceof q.Event||e instanceof q.Touch}function he(e,t,i){return i=i||{},e=e||"page",i.x=t[e+"X"],i.y=t[e+"Y"],i}function qi(e,t){return t=t||{x:0,y:0},K.isOperaMobile&&kn(e)?(he("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):he("page",e,t),t}function Ui(e,t){return t=t||{},K.isOperaMobile&&kn(e)?he("screen",e,t):he("client",e,t),t}function pe(e){return g.number(e.pointerId)?e.pointerId:e.identifier}function Vi(e,t,i){const n=t.length>1?An(t):t[0];qi(n,e.page),Ui(n,e.client),e.timeStamp=i}function He(e){const t=[];return g.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function An(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const i of e)for(const n in t)t[n]+=i[n];for(const i in t)t[i]/=e.length;return t}function Ki(e){if(!e.length)return null;const t=He(e),i=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),r=Math.max(t[0].pageY,t[1].pageY);return{x:i,y:n,left:i,top:n,right:o,bottom:r,width:o-i,height:r-n}}function Ji(e,t){const i=t+"X",n=t+"Y",o=He(e),r=o[0][i]-o[1][i],s=o[0][n]-o[1][n];return de(r,s)}function Zi(e,t){const i=t+"X",n=t+"Y",o=He(e),r=o[1][i]-o[0][i],s=o[1][n]-o[0][n];return 180*Math.atan2(s,r)/Math.PI}function Qi(e){return g.string(e.pointerType)?e.pointerType:g.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof q.Touch?"touch":"mouse"}function On(e){const t=g.func(e.composedPath)?e.composedPath():e.path;return[Dn(t?t[0]:e.target),Dn(e.currentTarget)]}function Jt(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function to(e){var t;const i=[],n={},o=[],r={add:s,remove:a,addDelegate:l,removeDelegate:c,delegateListener:u,delegateUseCapture:f,delegatedEvents:n,documents:o,targets:i,supportsOptions:!1,supportsPassive:!1};(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return r.supportsOptions=!0},get passive(){return r.supportsPassive=!0}}),e.events=r;function s(m,y,x,E){if(!m.addEventListener)return;const I=Zt(E);let k=fe(i,z=>z.eventTarget===m);k||(k={eventTarget:m,events:{}},i.push(k)),k.events[y]||(k.events[y]=[]),fe(k.events[y],z=>z.func===x&&ge(z.options,I))||(m.addEventListener(y,x,r.supportsOptions?I:I.capture),k.events[y].push({func:x,options:I}))}function a(m,y,x,E){if(!m.addEventListener||!m.removeEventListener)return;const I=ue(i,v=>v.eventTarget===m),k=i[I];if(!k||!k.events)return;if(y==="all"){for(y in k.events)k.events.hasOwnProperty(y)&&a(m,y,"all");return}let z=!1;const _=k.events[y];if(_)if(x==="all"){for(let v=_.length-1;v>=0;v--){const h=_[v];a(m,y,h.func,h.options)}return}else{const v=Zt(E);for(let h=0;h<_.length;h++){const A=_[h];if(A.func===x&&ge(A.options,v)){m.removeEventListener(y,x,r.supportsOptions?v:v.capture),_.splice(h,1),_.length===0&&(delete k.events[y],z=!0);break}}}z&&!Object.keys(k.events).length&&i.splice(I,1)}function l(m,y,x,E,I){const k=Zt(I);if(!n[x]){n[x]=[];for(const v of o)s(v,x,u),s(v,x,f,!0)}const z=n[x];let _=fe(z,v=>v.selector===m&&v.context===y);_||(_={selector:m,context:y,listeners:[]},z.push(_)),_.listeners.push({func:E,options:k})}function c(m,y,x,E,I){const k=Zt(I),z=n[x];let _=!1,v;if(!!z)for(v=z.length-1;v>=0;v--){const h=z[v];if(h.selector===m&&h.context===y){const{listeners:A}=h;for(let w=A.length-1;w>=0;w--){const L=A[w];if(L.func===E&&ge(L.options,k)){A.splice(w,1),A.length||(z.splice(v,1),a(y,x,u),a(y,x,f,!0)),_=!0;break}}if(_)break}}}function u(m,y){const x=Zt(y),E=new eo(m),I=n[m.type],[k]=On(m);let z=k;for(;g.element(z);){for(let _=0;_<I.length;_++){const v=I[_],{selector:h,context:A}=v;if(Lt(z,h)&&Bt(A,k)&&Bt(A,z)){const{listeners:w}=v;E.currentTarget=z;for(const L of w)ge(L.options,x)&&L.func(E)}}z=zt(z)}}function f(m){return u.call(this,m,!0)}return r}class eo{constructor(t){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,Pn(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function Zt(e){return g.object(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function ge(e,t){return e===t?!0:typeof e=="boolean"?!!t.capture===e&&!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive}var no={id:"events",install:to};const io=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):g.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function oo(e,t,i){const n=e.options.preventDefault;if(n!=="never"){if(n==="always"){i.preventDefault();return}if(t.events.supportsPassive&&/^touch(start|move)$/.test(i.type)){const o=Ht(i.target).document,r=t.getDocOptions(o);if(!(r&&r.events)||r.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(i.type)||g.element(i.target)&&Lt(i.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||i.preventDefault()}}function ro(e){let{interaction:t,event:i}=e;t.interactable&&t.interactable.checkAndPreventDefault(i)}function so(e){const{Interactable:t}=e;t.prototype.preventDefault=io,t.prototype.checkAndPreventDefault=function(i){return oo(this,e,i)},e.interactions.docEvents.push({type:"dragstart",listener(i){for(const n of e.interactions.list)if(n.element&&(n.element===i.target||Bt(n.element,i.target))){n.interactable.checkAndPreventDefault(i);return}}})}var ao={id:"core/interactablePreventDefault",install:so,listeners:["down","move","up","cancel"].reduce((e,t)=>(e[`interactions:${t}`]=ro,e),{})};function Qt(e,t){let i=!1;return function(){return i||(It.console.warn(t),i=!0),e.apply(this,arguments)}}function Rn(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function Hn(e,t,i){return e==="parent"?zt(i):e==="self"?t.getRect(i):Mn(i,e)}function te(e,t,i,n){let o=e;return g.string(o)?o=Hn(o,t,i):g.func(o)&&(o=o(...n)),g.element(o)&&(o=Oe(o)),o}function me(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function lo(e){return e&&!("left"in e&&"top"in e)&&(e=P({},e),e.left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e}function $n(e){return e&&!("x"in e&&"y"in e)&&(e=P({},e),e.x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function $e(e,t,i){e.left&&(t.left+=i.x),e.right&&(t.right+=i.x),e.top&&(t.top+=i.y),e.bottom&&(t.bottom+=i.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function Be(e,t,i){const n=i&&e.options[i],r=n&&n.origin||e.options.origin,s=te(r,e,t,[e&&t]);return me(s)||{x:0,y:0}}class Bn{constructor(t){this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(Bn.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const Ln={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class Le extends Bn{constructor(t,i,n,o,r,s,a){super(t),this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.axes=void 0,this.preEnd=void 0,r=r||t.element;const l=t.interactable,c=(l&&l.options||Ln).deltaSource,u=Be(l,r,n),f=o==="start",m=o==="end",y=f?this:t.prevEvent,x=f?t.coords.start:m?{page:y.page,client:y.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;this.page=P({},x.page),this.client=P({},x.client),this.rect=P({},t.rect),this.timeStamp=x.timeStamp,m||(this.page.x-=u.x,this.page.y-=u.y,this.client.x-=u.x,this.client.y-=u.y),this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.button=i.button,this.buttons=i.buttons,this.target=r,this.currentTarget=r,this.preEnd=s,this.type=a||n+(o||""),this.interactable=l,this.t0=f?t.pointers[t.pointers.length-1].downTime:y.t0,this.x0=t.coords.start.page.x-u.x,this.y0=t.coords.start.page.y-u.y,this.clientX0=t.coords.start.client.x-u.x,this.clientY0=t.coords.start.client.y-u.y,f||m?this.delta={x:0,y:0}:this.delta={x:this[c].x-y[c].x,y:this[c].y-y[c].y},this.dt=t.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=P({},t.coords.velocity[c]),this.speed=de(this.velocity.x,this.velocity.y),this.swipe=m||o==="inertiastart"?this.getSwipe():null}getSwipe(){const t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let i=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;const n=22.5;i<0&&(i+=360);const o=135-n<=i&&i<225+n,r=225-n<=i&&i<315+n,s=!o&&(315-n<=i||i<45+n),a=!r&&45-n<=i&&i<135+n;return{up:r,down:a,left:o,right:s,angle:i,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(Le.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});class co{constructor(t,i,n,o,r){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=i,this.event=n,this.downTime=o,this.downTarget=r}}let uo=function(e){return e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy="",e}({}),fo=function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e}({}),ho=0;class po{get pointerMoveTolerance(){return 1}constructor(t){this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Qt(function(r){this.move(r)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:Jt(),prev:Jt(),cur:Jt(),delta:Jt(),velocity:Jt()},this._id=ho++;let{pointerType:i,scopeFire:n}=t;this._scopeFire=n,this.pointerType=i;const o=this;this._proxy={};for(const r in uo)Object.defineProperty(this._proxy,r,{get(){return o[r]}});for(const r in fo)Object.defineProperty(this._proxy,r,{value:function(){return o[r](...arguments)}});this._scopeFire("interactions:new",{interaction:this})}pointerDown(t,i,n){const o=this.updatePointer(t,i,n,!0),r=this.pointers[o];this._scopeFire("interactions:down",{pointer:t,event:i,eventTarget:n,pointerIndex:o,pointerInfo:r,type:"down",interaction:this})}start(t,i,n){return this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!i.options[t.name].enabled?!1:(Rn(this.prepared,t),this.interactable=i,this.element=n,this.rect=i.getRect(n),this.edges=this.prepared.edges?P({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,i,n){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(t,i,n,!1);const o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let r,s;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,s=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=de(r,s)>this.pointerMoveTolerance);const a=this.getPointerIndex(t),l={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:i,type:"move",eventTarget:n,dx:r,dy:s,duplicate:o,interaction:this};o||Yi(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",l),!o&&!this.simulation&&(this.interacting()&&(l.type=null,this.move(l)),this.pointerWasMoved&&Re(this.coords.prev,this.coords.cur))}move(t){(!t||!t.event)&&Gi(this.coords.delta),t=P({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{}),t.phase="move",this._doPhase(t)}pointerUp(t,i,n,o){let r=this.getPointerIndex(t);r===-1&&(r=this.updatePointer(t,i,n,!1));const s=/cancel$/i.test(i.type)?"cancel":"up";this._scopeFire(`interactions:${s}`,{pointer:t,pointerIndex:r,pointerInfo:this.pointers[r],event:i,eventTarget:n,type:s,curEventTarget:o,interaction:this}),this.simulation||this.end(i),this.removePointer(t,i)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){this._ending=!0,t=t||this._latestPointer.event;let i;this.interacting()&&(i=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,i===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const i=pe(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:ue(this.pointers,n=>n.id===i)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,i,n,o){const r=pe(t);let s=this.getPointerIndex(t),a=this.pointers[s];return o=o===!1?!1:o||/(down|start)$/i.test(i.type),a?a.pointer=t:(a=new co(r,t,i,null,null),s=this.pointers.length,this.pointers.push(a)),Vi(this.coords.cur,this.pointers.map(l=>l.pointer),this._now()),Xi(this.coords.delta,this.coords.prev,this.coords.cur),o&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,Pn(this.downPointer,t),this.interacting()||(Re(this.coords.start,this.coords.cur),Re(this.coords.prev,this.coords.cur),this.downEvent=i,this.pointerWasMoved=!1)),this._updateLatestPointer(t,i,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:i,eventTarget:n,down:o,pointerInfo:a,pointerIndex:s,interaction:this}),s}removePointer(t,i){const n=this.getPointerIndex(t);if(n===-1)return;const o=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:t,event:i,eventTarget:null,pointerIndex:n,pointerInfo:o,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}_updateLatestPointer(t,i,n){this._latestPointer.pointer=t,this._latestPointer.event=i,this._latestPointer.eventTarget=n}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,i,n,o){return new Le(this,t,this.prepared.name,i,this.element,n,o)}_fireEvent(t){var i;(i=this.interactable)==null||i.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:i,phase:n,preEnd:o,type:r}=t,{rect:s}=this;if(s&&n==="move"&&($e(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),this._scopeFire(`interactions:before-action-${n}`,t)===!1)return!1;const l=t.iEvent=this._createPreparedEvent(i,n,o,r);return this._scopeFire(`interactions:action-${n}`,t),n==="start"&&(this.prevEvent=l),this._fireEvent(l),this._scopeFire(`interactions:after-action-${n}`,t),!0}_now(){return Date.now()}}const We={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of We.methodOrder){const i=We[t](e);if(i)return i}return null},simulationResume(e){let{pointerType:t,eventType:i,eventTarget:n,scope:o}=e;if(!/down|start/i.test(i))return null;for(const r of o.interactions.list){let s=n;if(r.simulation&&r.simulation.allowResume&&r.pointerType===t)for(;s;){if(s===r.element)return r;s=zt(s)}}return null},mouseOrPen(e){let{pointerId:t,pointerType:i,eventType:n,scope:o}=e;if(i!=="mouse"&&i!=="pen")return null;let r;for(const s of o.interactions.list)if(s.pointerType===i){if(s.simulation&&!Wn(s,t))continue;if(s.interacting())return s;r||(r=s)}if(r)return r;for(const s of o.interactions.list)if(s.pointerType===i&&!(/down/i.test(n)&&s.simulation))return s;return null},hasPointer(e){let{pointerId:t,scope:i}=e;for(const n of i.interactions.list)if(Wn(n,t))return n;return null},idle(e){let{pointerType:t,scope:i}=e;for(const n of i.interactions.list){if(n.pointers.length===1){const o=n.interactable;if(o&&!(o.options.gesture&&o.options.gesture.enabled))continue}else if(n.pointers.length>=2)continue;if(!n.interacting()&&t===n.pointerType)return n}return null}};function Wn(e,t){return e.pointers.some(i=>{let{id:n}=i;return n===t})}const Fn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function go(e){const t={};for(const r of Fn)t[r]=Nn(r,e);const i=K.pEventTypes;let n;q.PointerEvent?n=[{type:i.down,listener:o},{type:i.down,listener:t.pointerDown},{type:i.move,listener:t.pointerMove},{type:i.up,listener:t.pointerUp},{type:i.cancel,listener:t.pointerUp}]:n=[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],n.push({type:"blur",listener(r){for(const s of e.interactions.list)s.documentBlur(r)}}),e.prevTouchTime=0,e.Interaction=class extends po{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(r){e.interactions.pointerMoveTolerance=r}_now(){return e.now()}},e.interactions={list:[],new(r){r.scopeFire=(a,l)=>e.fire(a,l);const s=new e.Interaction(r);return e.interactions.list.push(s),s},listeners:t,docEvents:n,pointerMoveTolerance:1};function o(){for(const r of e.interactions.list)if(!(!r.pointerIsDown||r.pointerType!=="touch"||r._interacting))for(const s of r.pointers)e.documents.some(a=>{let{doc:l}=a;return Bt(l,s.downTarget)})||r.removePointer(s.pointer,s.event)}e.usePlugin(ao)}function Nn(e,t){return function(i){const n=t.interactions.list,o=Qi(i),[r,s]=On(i),a=[];if(/^touch/.test(i.type)){t.prevTouchTime=t.now();for(const l of i.changedTouches){const c=l,u=pe(c),f={pointer:c,pointerId:u,pointerType:o,eventType:i.type,eventTarget:r,curEventTarget:s,scope:t},m=jn(f);a.push([f.pointer,f.eventTarget,f.curEventTarget,m])}}else{let l=!1;if(!K.supportsPointerEvent&&/mouse/.test(i.type)){for(let c=0;c<n.length&&!l;c++)l=n[c].pointerType!=="mouse"&&n[c].pointerIsDown;l=l||t.now()-t.prevTouchTime<500||i.timeStamp===0}if(!l){const c={pointer:i,pointerId:pe(i),pointerType:o,eventType:i.type,curEventTarget:s,eventTarget:r,scope:t},u=jn(c);a.push([c.pointer,c.eventTarget,c.curEventTarget,u])}}for(const[l,c,u,f]of a)f[e](l,i,c,u)}}function jn(e){const{pointerType:t,scope:i}=e,o={interaction:We.search(e),searchDetails:e};return i.fire("interactions:find",o),o.interaction||i.interactions.new({pointerType:t})}function Fe(e,t){let{doc:i,scope:n,options:o}=e;const{interactions:{docEvents:r},events:s}=n,a=s[t];n.browser.isIOS&&!o.events&&(o.events={passive:!1});for(const c in s.delegatedEvents)a(i,c,s.delegateListener),a(i,c,s.delegateUseCapture,!0);const l=o&&o.events;for(const{type:c,listener:u}of r)a(i,c,u,l)}const mo={id:"core/interactions",install:go,listeners:{"scope:add-document":e=>Fe(e,"add"),"scope:remove-document":e=>Fe(e,"remove"),"interactable:unset":(e,t)=>{let{interactable:i}=e;for(let n=t.interactions.list.length-1;n>=0;n--){const o=t.interactions.list[n];o.interactable===i&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:Fe,doOnInteractions:Nn,methodNames:Fn};function ve(e,t){if(t.phaselessTypes[e])return!0;for(const i in t.map)if(e.indexOf(i)===0&&e.substr(i.length)in t.phases)return!0;return!1}var _t=function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e}(_t||{});class vo{get _defaults(){return{base:{},perAction:{},actions:{}}}constructor(t,i,n,o){this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new _n,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=i.actions,this.target=t,this._context=i.context||n,this._win=Ht(Cn(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(i)}setOnEvents(t,i){return g.func(i.onstart)&&this.on(`${t}start`,i.onstart),g.func(i.onmove)&&this.on(`${t}move`,i.onmove),g.func(i.onend)&&this.on(`${t}end`,i.onend),g.func(i.oninertiastart)&&this.on(`${t}inertiastart`,i.oninertiastart),this}updatePerActionListeners(t,i,n){var o;const r=(o=this._actions.map[t])==null?void 0:o.filterEventType,s=a=>(r==null||r(a))&&ve(a,this._actions);(g.array(i)||g.object(i))&&this._onOff(_t.Off,t,i,void 0,s),(g.array(n)||g.object(n))&&this._onOff(_t.On,t,n,void 0,s)}setPerAction(t,i){const n=this._defaults;for(const o in i){const r=o,s=this.options[t],a=i[r];r==="listeners"&&this.updatePerActionListeners(t,s.listeners,a),g.array(a)?s[r]=En(a):g.plainObject(a)?(s[r]=P(s[r]||{},Yt(a)),g.object(n.perAction[r])&&"enabled"in n.perAction[r]&&(s[r].enabled=a.enabled!==!1)):g.bool(a)&&g.object(n.perAction[r])?s[r].enabled=a:s[r]=a}}getRect(t){return t=t||(g.element(this.target)?this.target:null),g.string(this.target)&&(t=t||this._context.querySelector(this.target)),Oe(t)}rectChecker(t){return g.func(t)?(this.getRect=i=>{const n=P({},t.apply(this,i));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):t===null?(delete this.getRect,this):this.getRect}_backCompatOption(t,i){if(Cn(i)||g.object(i)){this.options[t]=i;for(const n in this._actions.map)this.options[n][t]=i;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}getAllElements(){const{target:t}=this;return g.string(t)?Array.from(this._context.querySelectorAll(t)):g.func(t)&&t.getAllElements?t.getAllElements():g.element(t)?[t]:[]}context(){return this._context}inContext(t){return this._context===t.ownerDocument||Bt(this._context,t)}testIgnoreAllow(t,i,n){return!this.testIgnore(t.ignoreFrom,i,n)&&this.testAllow(t.allowFrom,i,n)}testAllow(t,i,n){return t?g.element(n)?g.string(t)?ke(n,t,i):g.element(t)?Bt(t,n):!1:!1:!0}testIgnore(t,i,n){return!t||!g.element(n)?!1:g.string(t)?ke(n,t,i):g.element(t)?Bt(t,n):!1}fire(t){return this.events.fire(t),this}_onOff(t,i,n,o,r){g.object(i)&&!g.array(i)&&(o=n,n=null);const s=qt(i,n,r);for(let a in s){a==="wheel"&&(a=K.wheelEvent);for(const l of s[a])ve(a,this._actions)?this.events[t===_t.On?"on":"off"](a,l):g.string(this.target)?this._scopeEvents[t===_t.On?"addDelegate":"removeDelegate"](this.target,this._context,a,l,o):this._scopeEvents[t===_t.On?"add":"remove"](this.target,a,l,o)}return this}on(t,i,n){return this._onOff(_t.On,t,i,n)}off(t,i,n){return this._onOff(_t.Off,t,i,n)}set(t){const i=this._defaults;g.object(t)||(t={}),this.options=Yt(i.base);for(const n in this._actions.methodDict){const o=n,r=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,P(P({},i.perAction),i.actions[o])),this[r](t[o])}for(const n in t){if(n==="getRect"){this.rectChecker(t.getRect);continue}g.func(this[n])&&this[n](t[n])}return this}unset(){if(g.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const i=this._scopeEvents.delegatedEvents[t];for(let n=i.length-1;n>=0;n--){const{selector:o,context:r,listeners:s}=i[n];o===this.target&&r===this._context&&i.splice(n,1);for(let a=s.length-1;a>=0;a--)this._scopeEvents.removeDelegate(this.target,this._context,t,s[a][0],s[a][1])}}else this._scopeEvents.remove(this.target,"all")}}class yo{constructor(t){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":i=>{let{interactable:n}=i;const{target:o}=n,r=g.string(o)?this.selectorMap[o]:o[this.scope.id],s=ue(r,a=>a===n);r.splice(s,1)}})}new(t,i){i=P(i||{},{actions:this.scope.actions});const n=new this.scope.Interactable(t,i,this.scope.document,this.scope.events);return this.scope.addDocument(n._doc),this.list.push(n),g.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(n)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(n)),this.scope.fire("interactable:new",{target:t,options:i,interactable:n,win:this.scope._win}),n}getExisting(t,i){const n=i&&i.context||this.scope.document,o=g.string(t),r=o?this.selectorMap[t]:t[this.scope.id];if(!!r)return fe(r,s=>s._context===n&&(o||s.inContext(t)))}forEachMatch(t,i){for(const n of this.list){let o;if((g.string(n.target)?g.element(t)&&Lt(t,n.target):t===n.target)&&n.inContext(t)&&(o=i(n)),o!==void 0)return o}}}function bo(e){const t=(i,n)=>{let o=e.interactables.getExisting(i,n);return o||(o=e.interactables.new(i,n),o.events.global=t.globalEvents),o};return t.getPointerAverage=An,t.getTouchBBox=Ki,t.getTouchDistance=Ji,t.getTouchAngle=Zi,t.getElementRect=Oe,t.getElementClientRect=Ae,t.matchesSelector=Lt,t.closest=Mn,t.globalEvents={},t.version="1.10.27",t.scope=e,t.use=function(i,n){return this.scope.usePlugin(i,n),this},t.isSet=function(i,n){return!!this.scope.interactables.get(i,n&&n.context)},t.on=Qt(function(n,o,r){if(g.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),g.array(n)){for(const s of n)this.on(s,o,r);return this}if(g.object(n)){for(const s in n)this.on(s,n[s],o);return this}return ve(n,this.scope.actions)?this.globalEvents[n]?this.globalEvents[n].push(o):this.globalEvents[n]=[o]:this.scope.events.add(this.scope.document,n,o,{options:r}),this},"The interact.on() method is being deprecated"),t.off=Qt(function(n,o,r){if(g.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),g.array(n)){for(const s of n)this.off(s,o,r);return this}if(g.object(n)){for(const s in n)this.off(s,n[s],o);return this}if(ve(n,this.scope.actions)){let s;n in this.globalEvents&&(s=this.globalEvents[n].indexOf(o))!==-1&&this.globalEvents[n].splice(s,1)}else this.scope.events.remove(this.scope.document,n,o,r);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return K.supportsTouch},t.supportsPointerEvent=function(){return K.supportsPointerEvent},t.stop=function(){for(const i of this.scope.interactions.list)i.stop();return this},t.pointerMoveTolerance=function(i){return g.number(i)?(this.scope.interactions.pointerMoveTolerance=i,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(i,n){this.scope.addDocument(i,n)},t.removeDocument=function(i){this.scope.removeDocument(i)},t}class xo{constructor(){this.id=`__interact_scope_${Math.floor(Math.random()*100)}`,this.isInitialized=!1,this.listenerMaps=[],this.browser=K,this.defaults=Yt(Ln),this.Eventable=_n,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=bo(this),this.InteractEvent=Le,this.Interactable=void 0,this.interactables=new yo(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=i=>this.removeDocument(i.target);const t=this;this.Interactable=class extends vo{get _defaults(){return t.defaults}set(i){return super.set(i),t.fire("interactable:set",{options:i,interactable:this}),this}unset(){super.unset();const i=t.interactables.list.indexOf(this);i<0||(t.interactables.list.splice(i,1),t.fire("interactable:unset",{interactable:this}))}}}addListeners(t,i){this.listenerMaps.push({id:i,map:t})}fire(t,i){for(const{map:{[t]:n}}of this.listenerMaps)if(!!n&&n(i,this,t)===!1)return!1}init(t){return this.isInitialized?this:wo(this,t)}pluginIsInstalled(t){const{id:i}=t;return i?!!this._plugins.map[i]:this._plugins.list.indexOf(t)!==-1}usePlugin(t,i){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,i),t.listeners&&t.before){let n=0;const o=this.listenerMaps.length,r=t.before.reduce((s,a)=>(s[a]=!0,s[Xn(a)]=!0,s),{});for(;n<o;n++){const s=this.listenerMaps[n].id;if(s&&(r[s]||r[Xn(s)]))break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,i){if(this.getDocIndex(t)!==-1)return!1;const n=Ht(t);i=i?P({},i):{},this.documents.push({doc:t,options:i}),this.events.documents.push(t),t!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:i})}removeDocument(t){const i=this.getDocIndex(t),n=Ht(t),o=this.documents[i].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(i,1),this.events.documents.splice(i,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:o})}getDocIndex(t){for(let i=0;i<this.documents.length;i++)if(this.documents[i].doc===t)return i;return-1}getDocOptions(t){const i=this.getDocIndex(t);return i===-1?null:this.documents[i].options}now(){return(this.window.Date||Date).now()}}function wo(e,t){return e.isInitialized=!0,g.window(t)&&xn(t),q.init(t),K.init(t),Gt.init(t),e.window=t,e.document=t.document,e.usePlugin(mo),e.usePlugin(no),e}function Xn(e){return e&&e.replace(/\/.*$/,"")}const Yn=new xo,xt=Yn.interactStatic,So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:globalThis;Yn.init(So);function Eo(e){const{Interactable:t}=e;t.prototype.getAction=function(n,o,r,s){const a=To(this,o,r,s,e);return this.options.actionChecker?this.options.actionChecker(n,o,a,this,s,r):a},t.prototype.ignoreFrom=Qt(function(i){return this._backCompatOption("ignoreFrom",i)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=Qt(function(i){return this._backCompatOption("allowFrom",i)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=zo,t.prototype.styleCursor=Io}function To(e,t,i,n,o){const r=e.getRect(n),s=t.buttons||{0:1,1:4,3:8,4:16}[t.button],a={action:null,interactable:e,interaction:i,element:n,rect:r,buttons:s};return o.fire("auto-start:check",a),a.action}function Io(e){return g.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function zo(e){return g.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}const _o={id:"auto-start/interactableMethods",install:Eo};function Mo(e){const{interactStatic:t,defaults:i}=e;e.usePlugin(_o),i.base.actionChecker=null,i.base.styleCursor=!0,P(i.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=n=>Vn(n,e),e.autoStart={maxInteractions:1/0,withinInteractionLimit:ye,cursorElement:null}}function Do({interaction:e,pointer:t,event:i,eventTarget:n},o){if(e.interacting())return;const r=qn(e,t,i,n,o);Un(e,r,o)}function Co({interaction:e,pointer:t,event:i,eventTarget:n},o){if(e.pointerType!=="mouse"||e.pointerIsDown||e.interacting())return;const r=qn(e,t,i,n,o);Un(e,r,o)}function Po(e,t){const{interaction:i}=e;if(!i.pointerIsDown||i.interacting()||!i.pointerWasMoved||!i.prepared.name)return;t.fire("autoStart:before-start",e);const{interactable:n}=i,o=i.prepared.name;o&&n&&(n.options[o].manualStart||!ye(n,i.element,i.prepared,t)?i.stop():(i.start(i.prepared,n,i.element),Kn(i,t)))}function ko({interaction:e},t){const{interactable:i}=e;i&&i.options.styleCursor&&Ne(e.element,"",t)}function Gn(e,t,i,n,o){return t.testIgnoreAllow(t.options[e.name],i,n)&&t.options[e.name].enabled&&ye(t,i,e,o)?e:null}function Ao(e,t,i,n,o,r,s){for(let a=0,l=n.length;a<l;a++){const c=n[a],u=o[a],f=c.getAction(t,i,e,u);if(!f)continue;const m=Gn(f,c,u,r,s);if(m)return{action:m,interactable:c,element:u}}return{action:null,interactable:null,element:null}}function qn(e,t,i,n,o){let r=[],s=[],a=n;function l(c){r.push(c),s.push(a)}for(;g.element(a);){r=[],s=[],o.interactables.forEachMatch(a,l);const c=Ao(e,t,i,r,s,n,o);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;a=zt(a)}return{action:null,interactable:null,element:null}}function Un(e,{action:t,interactable:i,element:n},o){t=t||{name:null},e.interactable=i,e.element=n,Rn(e.prepared,t),e.rect=i&&t.name?i.getRect(n):null,Kn(e,o),o.fire("autoStart:prepared",{interaction:e})}function ye(e,t,i,n){const o=e.options,r=o[i.name].max,s=o[i.name].maxPerElement,a=n.autoStart.maxInteractions;let l=0,c=0,u=0;if(!(r&&s&&a))return!1;for(const f of n.interactions.list){const m=f.prepared.name;if(!!f.interacting()){if(l++,l>=a)return!1;if(f.interactable===e&&(c+=m===i.name?1:0,c>=r||f.element===t&&(u++,m===i.name&&u>=s)))return!1}}return a>0}function Vn(e,t){return g.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Ne(e,t,i){const{cursorElement:n}=i.autoStart;n&&n!==e&&(n.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,i.autoStart.cursorElement=t?e:null}function Kn(e,t){const{interactable:i,element:n,prepared:o}=e;if(!(e.pointerType==="mouse"&&i&&i.options.styleCursor)){t.autoStart.cursorElement&&Ne(t.autoStart.cursorElement,"",t);return}let r="";if(o.name){const s=i.options[o.name].cursorChecker;g.func(s)?r=s(o,i,n,e._interacting):r=t.actions.map[o.name].getCursor(o)}Ne(e.element,r||"",t)}const je={id:"auto-start/base",before:["actions"],install:Mo,listeners:{"interactions:down":Do,"interactions:move":(e,t)=>{Co(e,t),Po(e,t)},"interactions:stop":ko},maxInteractions:Vn,withinInteractionLimit:ye,validateAction:Gn};function Oo({interaction:e,eventTarget:t,dx:i,dy:n},o){if(e.prepared.name!=="drag")return;const r=Math.abs(i),s=Math.abs(n),a=e.interactable.options.drag,l=a.startAxis,c=r>s?"x":r<s?"y":"xy";if(e.prepared.axis=a.lockAxis==="start"?c[0]:a.lockAxis,c!=="xy"&&l!=="xy"&&l!==c){e.prepared.name=null;let u=t;const f=function(m){if(m===e.interactable)return;const y=e.interactable.options.drag;if(!y.manualStart&&m.testIgnoreAllow(y,u,t)){const x=m.getAction(e.downPointer,e.downEvent,e,u);if(x&&x.name==="drag"&&Ro(c,m)&&je.validateAction(x,m,u,t,o))return m}};for(;g.element(u);){const m=o.interactables.forEachMatch(u,f);if(m){e.prepared.name="drag",e.interactable=m,e.element=u;break}u=zt(u)}}}function Ro(e,t){if(!t)return!1;const i=t.options.drag.startAxis;return e==="xy"||i==="xy"||i===e}const Ho={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":Oo}};function $o(e){const{defaults:t}=e;e.usePlugin(je),t.perAction.hold=0,t.perAction.delay=0}function Xe(e){const t=e.prepared&&e.prepared.name;if(!t)return null;const i=e.interactable.options;return i[t].hold||i[t].delay}const Bo={id:"auto-start/hold",install:$o,listeners:{"interactions:new":({interaction:e})=>{e.autoStartHoldTimer=null},"autoStart:prepared":({interaction:e})=>{const t=Xe(e);t>0&&(e.autoStartHoldTimer=setTimeout(()=>{e.start(e.prepared,e.interactable,e.element)},t))},"interactions:move":({interaction:e,duplicate:t})=>{e.autoStartHoldTimer&&e.pointerWasMoved&&!t&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":({interaction:e})=>{Xe(e)>0&&(e.prepared.name=null)}},getHoldDuration:Xe},Lo={id:"auto-start",install(e){e.usePlugin(je),e.usePlugin(Bo),e.usePlugin(Ho)}};xt.use(Lo);function Wo(e){const{defaults:t,actions:i}=e;e.autoScroll=C,C.now=()=>e.now(),i.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=C.defaults}const C={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start(e){C.isScrolling=!0,Gt.cancel(C.i),e.autoScroll=C,C.interaction=e,C.prevTime=C.now(),C.i=Gt.request(C.scroll)},stop(){C.isScrolling=!1,C.interaction&&(C.interaction.autoScroll=null),Gt.cancel(C.i)},scroll(){const{interaction:e}=C,{interactable:t,element:i}=e,n=e.prepared.name,o=t.options[n].autoScroll,r=Jn(o.container,t,i),s=C.now(),a=(s-C.prevTime)/1e3,l=o.speed*a;if(l>=1){const c={x:C.x*l,y:C.y*l};if(c.x||c.y){const u=Zn(r);g.window(r)?r.scrollBy(c.x,c.y):r&&(r.scrollLeft+=c.x,r.scrollTop+=c.y);const f=Zn(r),m={x:f.x-u.x,y:f.y-u.y};(m.x||m.y)&&t.fire({type:"autoscroll",target:i,interactable:t,delta:m,interaction:e,container:r})}C.prevTime=s}C.isScrolling&&(Gt.cancel(C.i),C.i=Gt.request(C.scroll))},check(e,t){var i;return(i=e.options[t].autoScroll)==null?void 0:i.enabled},onInteractionMove({interaction:e,pointer:t}){if(!(e.interacting()&&C.check(e.interactable,e.prepared.name)))return;if(e.simulation){C.x=C.y=0;return}let i,n,o,r;const{interactable:s,element:a}=e,l=e.prepared.name,c=s.options[l].autoScroll,u=Jn(c.container,s,a);if(g.window(u))r=t.clientX<C.margin,i=t.clientY<C.margin,n=t.clientX>u.innerWidth-C.margin,o=t.clientY>u.innerHeight-C.margin;else{const f=Ae(u);r=t.clientX<f.left+C.margin,i=t.clientY<f.top+C.margin,n=t.clientX>f.right-C.margin,o=t.clientY>f.bottom-C.margin}C.x=n?1:r?-1:0,C.y=o?1:i?-1:0,C.isScrolling||(C.margin=c.margin,C.speed=c.speed,C.start(e))}};function Jn(e,t,i){return(g.string(e)?Hn(e,t,i):e)||Ht(i)}function Zn(e){return g.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}const Fo={id:"auto-scroll",install:Wo,listeners:{"interactions:new":({interaction:e})=>{e.autoScroll=null},"interactions:destroy":({interaction:e})=>{e.autoScroll=null,C.stop(),C.interaction&&(C.interaction=null)},"interactions:stop":C.stop,"interactions:action-move":e=>C.onInteractionMove(e)}};xt.use(Fo);function No(e){const{actions:t,Interactable:i,defaults:n}=e;i.prototype.draggable=be.draggable,t.map.drag=be,t.methodDict.drag="draggable",n.actions.drag=be.defaults}function Ye({interaction:e}){if(e.prepared.name!=="drag")return;const t=e.prepared.axis;t==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):t==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}function Qn({iEvent:e,interaction:t}){if(t.prepared.name!=="drag")return;const i=t.prepared.axis;if(i==="x"||i==="y"){const n=i==="x"?"y":"x";e.page[n]=t.coords.start.page[n],e.client[n]=t.coords.start.client[n],e.delta[n]=0}}const be={id:"actions/drag",install:No,listeners:{"interactions:before-action-move":Ye,"interactions:action-resume":Ye,"interactions:action-move":Qn,"auto-start:check":e=>{const{interaction:t,interactable:i,buttons:n}=e,o=i.options.drag;if(!(!(o&&o.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&(n&i.options.drag.mouseButtons)===0))return e.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(t){return g.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):g.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:Ye,move:Qn,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor(){return"move"}},jo=be;xt.use(jo);function Xo(e){const{actions:t,browser:i,Interactable:n,defaults:o}=e;wt.cursors=Uo(i),wt.defaultMargin=i.supportsTouch||i.supportsPointerEvent?20:10,n.prototype.resizable=function(r){return Go(this,r,e)},t.map.resize=wt,t.methodDict.resize="resizable",o.actions.resize=wt.defaults}function Yo(e){const{interaction:t,interactable:i,element:n,rect:o,buttons:r}=e;if(!o)return;const s=P({},t.coords.cur.page),a=i.options.resize;if(!(!(a&&a.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&(r&a.mouseButtons)===0)){if(g.object(a.edges)){const l={left:!1,right:!1,top:!1,bottom:!1};for(const c in l)l[c]=qo(c,a.edges[c],s,t._latestPointer.eventTarget,n,o,a.margin||wt.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{const l=a.axis!=="y"&&s.x>o.right-wt.defaultMargin,c=a.axis!=="x"&&s.y>o.bottom-wt.defaultMargin;(l||c)&&(e.action={name:"resize",axes:(l?"x":"")+(c?"y":"")})}return e.action?!1:void 0}}function Go(e,t,i){return g.object(t)?(e.options.resize.enabled=t.enabled!==!1,e.setPerAction("resize",t),e.setOnEvents("resize",t),g.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:t.axis===null&&(e.options.resize.axis=i.defaults.actions.resize.axis),g.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:g.bool(t.square)&&(e.options.resize.square=t.square),e):g.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}function qo(e,t,i,n,o,r,s){if(!t)return!1;if(t===!0){const a=g.number(r.width)?r.width:r.right-r.left,l=g.number(r.height)?r.height:r.bottom-r.top;if(s=Math.min(s,Math.abs((e==="left"||e==="right"?a:l)/2)),a<0&&(e==="left"?e="right":e==="right"&&(e="left")),l<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){const c=a>=0?r.left:r.right;return i.x<c+s}if(e==="top"){const c=l>=0?r.top:r.bottom;return i.y<c+s}if(e==="right")return i.x>(a>=0?r.right:r.left)-s;if(e==="bottom")return i.y>(l>=0?r.bottom:r.top)-s}return g.element(n)?g.element(t)?t===n:ke(n,t,o):!1}function Uo(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function Vo({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const i=e,n=t.rect;t._rects={start:P({},n),corrected:P({},n),previous:P({},n),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=t.prepared.edges,i.rect=t._rects.corrected,i.deltaRect=t._rects.delta}function Ko({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const i=e,o=t.interactable.options.resize.invert,r=o==="reposition"||o==="negate",s=t.rect,{start:a,corrected:l,delta:c,previous:u}=t._rects;if(P(u,l),r){if(P(l,s),o==="reposition"){if(l.top>l.bottom){const f=l.top;l.top=l.bottom,l.bottom=f}if(l.left>l.right){const f=l.left;l.left=l.right,l.right=f}}}else l.top=Math.min(s.top,a.bottom),l.bottom=Math.max(s.bottom,a.top),l.left=Math.min(s.left,a.right),l.right=Math.max(s.right,a.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(const f in l)c[f]=l[f]-u[f];i.edges=t.prepared.edges,i.rect=l,i.deltaRect=c}function Jo({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const i=e;i.edges=t.prepared.edges,i.rect=t._rects.corrected,i.deltaRect=t._rects.delta}function ti({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.resizeAxes)return;const i=t.interactable.options,n=e;i.resize.square?(t.resizeAxes==="y"?n.delta.x=n.delta.y:n.delta.y=n.delta.x,n.axes="xy"):(n.axes=t.resizeAxes,t.resizeAxes==="x"?n.delta.y=0:t.resizeAxes==="y"&&(n.delta.x=0))}const wt={id:"actions/resize",before:["actions/drag"],install:Xo,listeners:{"interactions:new":({interaction:e})=>{e.resizeAxes="xy"},"interactions:action-start":e=>{Vo(e),ti(e)},"interactions:action-move":e=>{Ko(e),ti(e)},"interactions:action-end":Jo,"auto-start:check":Yo},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor({edges:e,axis:t,name:i}){const n=wt.cursors;let o=null;if(t)o=n[i+t];else if(e){let r="";for(const s of["top","bottom","left","right"])e[s]&&(r+=s);o=n[r]}return o},defaultMargin:null},Zo=wt;xt.use(Zo);const Qo=Object.freeze(Object.defineProperty({__proto__:null,edgeTarget:()=>{},elements:()=>{},grid:e=>{const t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(([n,o])=>n in e||o in e),i=(n,o)=>{const{range:r,limits:s={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:a={x:0,y:0}}=e,l={range:r,grid:e,x:null,y:null};for(const[c,u]of t){const f=Math.round((n-a.x)/e[c]),m=Math.round((o-a.y)/e[u]);l[c]=Math.max(s.left,Math.min(s.right,f*e[c]+a.x)),l[u]=Math.max(s.top,Math.min(s.bottom,m*e[u]+a.y))}return l};return i.grid=e,i.coordFields=t,i}},Symbol.toStringTag,{value:"Module"})),tr={id:"snappers",install(e){const{interactStatic:t}=e;t.snappers=P(t.snappers||{},Qo),t.createSnapGrid=t.snappers.grid}};class ei{constructor(t){Ot(this,"states",[]);Ot(this,"startOffset",{left:0,right:0,top:0,bottom:0});Ot(this,"startDelta");Ot(this,"result");Ot(this,"endResult");Ot(this,"edges");Ot(this,"interaction");this.interaction=t,this.result=xe()}start({phase:t},i){const{interaction:n}=this,o=er(n);this.prepareStates(o),this.edges=P({},n.edges),this.startOffset=nr(n.rect,i),this.startDelta={x:0,y:0};const r=this.fillArg({phase:t,pageCoords:i,preEnd:!1});return this.result=xe(),this.startAll(r),this.result=this.setAll(r)}fillArg(t){const{interaction:i}=this;return t.interaction=i,t.interactable=i.interactable,t.element=i.element,t.rect=t.rect||i.rect,t.edges=this.edges,t.startOffset=this.startOffset,t}startAll(t){for(const i of this.states)i.methods.start&&(t.state=i,i.methods.start(t))}setAll(t){const{phase:i,preEnd:n,skipModifiers:o,rect:r}=t;t.coords=P({},t.pageCoords),t.rect=P({},r);const s=o?this.states.slice(o):this.states,a=xe(t.coords,t.rect);for(const f of s){var l;const{options:m}=f,y=P({},t.coords);let x=null;(l=f.methods)!=null&&l.set&&this.shouldDo(m,n,i)&&(t.state=f,x=f.methods.set(t),$e(this.interaction.edges,t.rect,{x:t.coords.x-y.x,y:t.coords.y-y.y})),a.eventProps.push(x)}a.delta.x=t.coords.x-t.pageCoords.x,a.delta.y=t.coords.y-t.pageCoords.y,a.rectDelta.left=t.rect.left-r.left,a.rectDelta.right=t.rect.right-r.right,a.rectDelta.top=t.rect.top-r.top,a.rectDelta.bottom=t.rect.bottom-r.bottom;const c=this.result.coords,u=this.result.rect;if(c&&u){const f=a.rect.left!==u.left||a.rect.right!==u.right||a.rect.top!==u.top||a.rect.bottom!==u.bottom;a.changed=f||c.x!==a.coords.x||c.y!==a.coords.y}return a}applyToInteraction(t){const{interaction:i}=this,{phase:n}=t,o=i.coords.cur,r=i.coords.start,{result:s,startDelta:a}=this,l=s.delta;n==="start"&&P(this.startDelta,s.delta);for(const[f,m]of[[r,a],[o,l]])f.page.x+=m.x,f.page.y+=m.y,f.client.x+=m.x,f.client.y+=m.y;const{rectDelta:c}=this.result,u=t.rect||i.rect;u.left+=c.left,u.right+=c.right,u.top+=c.top,u.bottom+=c.bottom,u.width=u.right-u.left,u.height=u.bottom-u.top}setAndApply(t){const{interaction:i}=this,{phase:n,preEnd:o,skipModifiers:r}=t,s=this.setAll(this.fillArg({preEnd:o,phase:n,pageCoords:t.modifiedCoords||i.coords.cur.page}));if(this.result=s,!s.changed&&(!r||r<this.states.length)&&i.interacting())return!1;if(t.modifiedCoords){const{page:a}=i.coords.cur,l={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};s.coords.x+=l.x,s.coords.y+=l.y,s.delta.x+=l.x,s.delta.y+=l.y}this.applyToInteraction(t)}beforeEnd(t){const{interaction:i,event:n}=t,o=this.states;if(!o||!o.length)return;let r=!1;for(const s of o){t.state=s;const{options:a,methods:l}=s,c=l.beforeEnd&&l.beforeEnd(t);if(c)return this.endResult=c,!1;r=r||!r&&this.shouldDo(a,!0,t.phase,!0)}r&&i.move({event:n,preEnd:!0})}stop(t){const{interaction:i}=t;if(!this.states||!this.states.length)return;const n=P({states:this.states,interactable:i.interactable,element:i.element,rect:null},t);this.fillArg(n);for(const o of this.states)n.state=o,o.methods.stop&&o.methods.stop(n);this.states=null,this.endResult=null}prepareStates(t){this.states=[];for(let i=0;i<t.length;i++){const{options:n,methods:o,name:r}=t[i];this.states.push({options:n,methods:o,index:i,name:r})}return this.states}restoreInteractionCoords({interaction:{coords:t,rect:i,modification:n}}){if(!n.result)return;const{startDelta:o}=n,{delta:r,rectDelta:s}=n.result,a=[[t.start,o],[t.cur,r]];for(const[l,c]of a)l.page.x-=c.x,l.page.y-=c.y,l.client.x-=c.x,l.client.y-=c.y;i.left-=s.left,i.right-=s.right,i.top-=s.top,i.bottom-=s.bottom}shouldDo(t,i,n,o){return!(!t||t.enabled===!1||o&&!t.endOnly||t.endOnly&&!i||n==="start"&&!t.setStart)}copyFrom(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.edges=t.edges,this.states=t.states.map(i=>Yt(i)),this.result=xe(P({},t.result.coords),P({},t.result.rect))}destroy(){for(const t in this)this[t]=null}}function xe(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function er(e){const t=e.interactable.options[e.prepared.name],i=t.modifiers;return i&&i.length?i:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(n=>{const o=t[n];return o&&o.enabled&&{options:o,methods:o._methods}}).filter(n=>!!n)}function nr(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}function Mt(e,t){const{defaults:i}=e,n={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},o=r=>{const s=r||{};s.enabled=s.enabled!==!1;for(const l in i)l in s||(s[l]=i[l]);const a={options:s,methods:n,name:t,enable:()=>(s.enabled=!0,a),disable:()=>(s.enabled=!1,a)};return a};return t&&typeof t=="string"&&(o._defaults=i,o._methods=n),o}function Ge({iEvent:e,interaction:t}){const i=t.modification.result;i&&(e.modifiers=i.eventProps)}const ir={id:"modifiers/base",before:["actions"],install:e=>{e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":({interaction:e})=>{e.modification=new ei(e)},"interactions:before-action-start":e=>{const t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":e=>e.interaction.modification.setAndApply(e),"interactions:before-action-end":e=>e.interaction.modification.beforeEnd(e),"interactions:action-start":Ge,"interactions:action-move":Ge,"interactions:action-end":Ge,"interactions:after-action-start":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:after-action-move":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:stop":e=>e.interaction.modification.stop(e)}},or={start(e){const{state:t,rect:i,edges:n,pageCoords:o}=e;let{ratio:r}=t.options;const{equalDelta:s,modifiers:a}=t.options;r==="preserve"&&(r=i.width/i.height),t.startCoords=P({},o),t.startRect=P({},i),t.ratio=r,t.equalDelta=s;const l=t.linkedEdges={top:n.top||n.left&&!n.bottom,left:n.left||n.top&&!n.right,bottom:n.bottom||n.right&&!n.top,right:n.right||n.bottom&&!n.left};if(t.xIsPrimaryAxis=!!(n.left||n.right),t.equalDelta){const u=(l.left?1:-1)*(l.top?1:-1);t.edgeSign={x:u,y:u}}else t.edgeSign={x:l.left?-1:1,y:l.top?-1:1};if(P(e.edges,l),!a||!a.length)return;const c=new ei(e.interaction);c.copyFrom(e.interaction.modification),c.prepareStates(a),t.subModification=c,c.startAll({...e})},set(e){const{state:t,rect:i,coords:n}=e,o=P({},n),r=t.equalDelta?rr:sr;if(r(t,t.xIsPrimaryAxis,n,i),!t.subModification)return null;const s=P({},i);$e(t.linkedEdges,s,{x:n.x-o.x,y:n.y-o.y});const a=t.subModification.setAll({...e,rect:s,edges:t.linkedEdges,pageCoords:n,prevCoords:n,prevRect:s}),{delta:l}=a;if(a.changed){const c=Math.abs(l.x)>Math.abs(l.y);r(t,c,a.coords,a.rect),P(n,a.coords)}return a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function rr({startCoords:e,edgeSign:t},i,n){i?n.y=e.y+(n.x-e.x)*t.y:n.x=e.x+(n.y-e.y)*t.x}function sr({startRect:e,startCoords:t,ratio:i,edgeSign:n},o,r,s){if(o){const a=s.width/i;r.y=t.y+(a-e.height)*n.y}else{const a=s.height*i;r.x=t.x+(a-e.width)*n.x}}const ar=Mt(or,"aspectRatio"),ni=()=>{};ni._defaults={};const we=ni;function lr({rect:e,startOffset:t,state:i,interaction:n,pageCoords:o}){const{options:r}=i,{elementRect:s}=r,a=P({left:0,top:0,right:0,bottom:0},r.offset||{});if(e&&s){const l=Wt(r.restriction,n,o);if(l){const c=l.right-l.left-e.width,u=l.bottom-l.top-e.height;c<0&&(a.left+=c,a.right+=c),u<0&&(a.top+=u,a.bottom+=u)}a.left+=t.left-e.width*s.left,a.top+=t.top-e.height*s.top,a.right+=t.right-e.width*(1-s.right),a.bottom+=t.bottom-e.height*(1-s.bottom)}i.offset=a}function cr({coords:e,interaction:t,state:i}){const{options:n,offset:o}=i,r=Wt(n.restriction,t,e);if(!r)return;const s=lo(r);e.x=Math.max(Math.min(s.right-o.right,e.x),s.left+o.left),e.y=Math.max(Math.min(s.bottom-o.bottom,e.y),s.top+o.top)}function Wt(e,t,i){return g.func(e)?te(e,t.interactable,t.element,[i.x,i.y,t]):te(e,t.interactable,t.element)}const Se={start:lr,set:cr,defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},ur=Mt(Se,"restrict"),ii={top:1/0,left:1/0,bottom:-1/0,right:-1/0},oi={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function fr({interaction:e,startOffset:t,state:i}){const{options:n}=i;let o;if(n){const r=Wt(n.offset,e,e.coords.start.page);o=me(r)}o=o||{x:0,y:0},i.offset={top:o.y+t.top,left:o.x+t.left,bottom:o.y-t.bottom,right:o.x-t.right}}function dr({coords:e,edges:t,interaction:i,state:n}){const{offset:o,options:r}=n;if(!t)return;const s=P({},e),a=Wt(r.inner,i,s)||{},l=Wt(r.outer,i,s)||{};ri(a,ii),ri(l,oi),t.top?e.y=Math.min(Math.max(l.top+o.top,s.y),a.top+o.top):t.bottom&&(e.y=Math.max(Math.min(l.bottom+o.bottom,s.y),a.bottom+o.bottom)),t.left?e.x=Math.min(Math.max(l.left+o.left,s.x),a.left+o.left):t.right&&(e.x=Math.max(Math.min(l.right+o.right,s.x),a.right+o.right))}function ri(e,t){for(const i of["top","left","bottom","right"])i in e||(e[i]=t[i]);return e}const ee={noInner:ii,noOuter:oi,start:fr,set:dr,defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},hr=Mt(ee,"restrictEdges"),pr=P({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Se.defaults),gr={start:Se.start,set:Se.set,defaults:pr},mr=Mt(gr,"restrictRect"),vr={width:-1/0,height:-1/0},yr={width:1/0,height:1/0};function br(e){return ee.start(e)}function xr(e){const{interaction:t,state:i,rect:n,edges:o}=e,{options:r}=i;if(!o)return;const s=$n(Wt(r.min,t,e.coords))||vr,a=$n(Wt(r.max,t,e.coords))||yr;i.options={endOnly:r.endOnly,inner:P({},ee.noInner),outer:P({},ee.noOuter)},o.top?(i.options.inner.top=n.bottom-s.height,i.options.outer.top=n.bottom-a.height):o.bottom&&(i.options.inner.bottom=n.top+s.height,i.options.outer.bottom=n.top+a.height),o.left?(i.options.inner.left=n.right-s.width,i.options.outer.left=n.right-a.width):o.right&&(i.options.inner.right=n.left+s.width,i.options.outer.right=n.left+a.width),ee.set(e),i.options=r}const wr=Mt({start:br,set:xr,defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");function Sr(e){const{interaction:t,interactable:i,element:n,rect:o,state:r,startOffset:s}=e,{options:a}=r,l=a.offsetWithOrigin?Tr(e):{x:0,y:0};let c;if(a.offset==="startCoords")c={x:t.coords.start.page.x,y:t.coords.start.page.y};else{const f=te(a.offset,i,n,[t]);c=me(f)||{x:0,y:0},c.x+=l.x,c.y+=l.y}const{relativePoints:u}=a;r.offsets=o&&u&&u.length?u.map((f,m)=>({index:m,relativePoint:f,x:s.left-o.width*f.x+c.x,y:s.top-o.height*f.y+c.y})):[{index:0,relativePoint:null,x:c.x,y:c.y}]}function Er(e){const{interaction:t,coords:i,state:n}=e,{options:o,offsets:r}=n,s=Be(t.interactable,t.element,t.prepared.name),a=P({},i),l=[];o.offsetWithOrigin||(a.x-=s.x,a.y-=s.y);for(const u of r){const f=a.x-u.x,m=a.y-u.y;for(let y=0,x=o.targets.length;y<x;y++){const E=o.targets[y];let I;g.func(E)?I=E(f,m,t._proxy,u,y):I=E,I&&l.push({x:(g.number(I.x)?I.x:f)+u.x,y:(g.number(I.y)?I.y:m)+u.y,range:g.number(I.range)?I.range:o.range,source:E,index:y,offset:u})}}const c={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(const u of l){const f=u.range,m=u.x-a.x,y=u.y-a.y,x=de(m,y);let E=x<=f;f===1/0&&c.inRange&&c.range!==1/0&&(E=!1),(!c.target||(E?c.inRange&&f!==1/0?x/f<c.distance/c.range:f===1/0&&c.range!==1/0||x<c.distance:!c.inRange&&x<c.distance))&&(c.target=u,c.distance=x,c.range=f,c.inRange=E,c.delta.x=m,c.delta.y=y)}return c.inRange&&(i.x=c.target.x,i.y=c.target.y),n.closest=c,c}function Tr(e){const{element:t}=e.interaction;return me(te(e.state.options.origin,null,null,[t]))||Be(e.interactable,t,e.interaction.prepared.name)}const qe={start:Sr,set:Er,defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Ir=Mt(qe,"snap");function zr(e){const{state:t,edges:i}=e,{options:n}=t;if(!i)return null;e.state={options:{targets:null,relativePoints:[{x:i.left?0:1,y:i.top?0:1}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],qe.start(e),t.offsets=e.state.offsets,e.state=t}function _r(e){const{interaction:t,state:i,coords:n}=e,{options:o,offsets:r}=i,s={x:n.x-r[0].x,y:n.y-r[0].y};i.options=P({},o),i.options.targets=[];for(const l of o.targets||[]){let c;if(g.func(l)?c=l(s.x,s.y,t):c=l,!!c){for(const[u,f]of i.targetFields)if(u in c||f in c){c.x=c[u],c.y=c[f];break}i.options.targets.push(c)}}const a=qe.set(e);return i.options=o,a}const Ee={start:zr,set:_r,defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Mr=Mt(Ee,"snapSize");function Dr(e){const{edges:t}=e;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Ee.start(e)):null}const Cr={start:Dr,set:Ee.set,defaults:P(Yt(Ee.defaults),{targets:null,range:null,offset:{x:0,y:0}})},Pr=Mt(Cr,"snapEdges"),Ue={aspectRatio:ar,restrictEdges:hr,restrict:ur,restrictRect:mr,restrictSize:wr,snapEdges:Pr,snap:Ir,snapSize:Mr,spring:we,avoid:we,transform:we,rubberband:we},kr={id:"modifiers",install(e){const{interactStatic:t}=e;e.usePlugin(ir),e.usePlugin(tr),t.modifiers=Ue;for(const i in Ue){const{_defaults:n,_methods:o}=Ue[i];n._methods=o,e.defaults.perAction[i]=n}}};xt.use(kr);const Ar={};var Ut;(function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"})(Ut||(Ut={}));const si="[interact.js] ",Ve={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},Or=!1;function Rr(e,{logger:t}={}){const{Interactable:i,defaults:n}=e;e.logger=t||console,n.base.devTools={ignore:{}},i.prototype.devTools=function(o){return o?(P(this.options.devTools,o),this):this.options.devTools},e.usePlugin(Ar)}const ai=[{name:Ut.touchAction,perform({element:e}){return!Hr(e,"touchAction",/pan-|pinch|none/)},getInfo({element:e}){return[e,Ve.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:Ut.boxSizing,perform(e){const{element:t}=e;return e.prepared.name==="resize"&&t instanceof q.HTMLElement&&!li(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo({element:e}){return[e,Ve.boxSizing]}},{name:Ut.noListeners,perform(e){const t=e.prepared.name;return!(e.interactable.events.types[`${t}move`]||[]).length},getInfo(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function li(e,t,i){const n=e.style[t]||It.getComputedStyle(e)[t];return i.test((n||"").toString())}function Hr(e,t,i){let n=e;for(;g.element(n);){if(li(n,t,i))return!0;n=zt(n)}return!1}const ci="dev-tools",$r=Or?{id:ci,install:()=>{}}:{id:ci,install:Rr,listeners:{"interactions:action-start":({interaction:e},t)=>{for(const i of ai){const n=e.interactable&&e.interactable.options;!(n&&n.devTools&&n.devTools.ignore[i.name])&&i.perform(e)&&t.logger.warn(si+i.text,...i.getInfo(e))}}},checks:ai,CheckName:Ut,links:Ve,prefix:si};xt.use($r);function Br(){const{appContext:e,proxy:t}=d.getCurrentInstance(),i=e.config.globalProperties;return{proxy:t,appContext:e,globalProperties:i}}const Lr={name:"GridItem"},Ke=d.defineComponent({...Lr,props:{isDraggable:{type:[Boolean,null],default:null},isResizable:{type:[Boolean,null],default:null},isBounded:{type:[Boolean,null],default:null},static:{type:Boolean,default:!1},minH:{default:1},minW:{default:1},maxH:{default:1/0},maxW:{default:1/0},x:null,y:null,w:null,h:null,i:null,dragIgnoreFrom:{default:"a, button"},dragAllowFrom:{default:null},resizeIgnoreFrom:{default:"a, button"},preserveAspectRatio:{type:Boolean,default:!1},dragOption:{default:()=>({})},resizeOption:{default:()=>({})}},emits:["container-resized","resize","resized","move","moved","dragging","dragend"],setup(e,{expose:t,emit:i}){const n=e,{proxy:o}=Br(),r=o==null?void 0:o.$parent,s=d.inject("eventBus"),a=d.ref({}),l=d.ref(1),c=d.ref(100),u=d.ref(30),f=d.ref([10,10]),m=d.ref(1/0),y=d.ref(null),x=d.ref(null),E=d.ref(1),I=d.ref(!0),k=d.ref(!0),z=d.ref(!1),_=d.ref(null),v=d.ref(!1),h=d.ref(null),A=d.ref(NaN),w=d.ref(NaN),L=d.ref(NaN),it=d.ref(NaN),H=d.ref({}),V=d.ref(!1),b=d.ref(!1),D=d.ref(!1),R=d.ref(null),F=d.ref(null),U=d.ref(null),J=d.ref(null),M=d.ref(n.x),Z=d.ref(n.y),nt=d.ref(n.w),Q=d.ref(n.h),at=d.ref(null),X=d.ref(null),Te=d.computed(()=>x.value&&!n.static),tn=d.computed(()=>(y.value||x.value)&&!n.static),en=d.computed(()=>navigator.userAgent.toLowerCase().indexOf("android")!==-1),ut=d.computed(()=>r!=null&&r.isMirrored?!V.value:V.value),Ie=d.computed(()=>({"vue-resizable":Te.value,static:n.static,resizing:v.value,"vue-draggable-dragging":z.value,cssTransforms:I.value,"render-rtl":ut.value,"disable-userselect":z.value,"no-touch":en.value&&tn.value})),T=d.computed(()=>ut.value?"vue-resizable-handle vue-rtl-resizable-handle":"vue-resizable-handle");d.watch(()=>n.isDraggable,p=>{y.value=p}),d.watch(()=>n.static,()=>{_e(),ct()}),d.watch(y,()=>{_e()}),d.watch(()=>n.isResizable,p=>{x.value=p}),d.watch(()=>n.isBounded,p=>{at.value=p}),d.watch(x,()=>{ct()}),d.watch(u,()=>{tt(),dt()}),d.watch(l,()=>{ct(),tt(),dt()}),d.watch(c,()=>{ct(),tt()}),d.watch(()=>n.x,p=>{M.value=p,tt()}),d.watch(()=>n.y,p=>{Z.value=p,tt()}),d.watch(()=>n.h,p=>{Q.value=p,tt()}),d.watch(()=>n.w,p=>{nt.value=p,tt()}),d.watch(ut,()=>{ct(),tt()}),d.watch(()=>n.minH,()=>{ct()}),d.watch(()=>n.maxH,()=>{ct()}),d.watch(()=>n.minW,()=>{ct()}),d.watch(()=>n.maxW,()=>{ct()}),d.watch(()=>r==null?void 0:r.margin,p=>{!p||p[0]==f.value[0]&&p[1]==f.value[1]||(f.value=p.map(S=>Number(S)),tt(),dt())});function $(p){kt(p)}function Y(p){yt()}function ft(p){n.isDraggable===null&&(y.value=p)}function gt(p){n.isResizable===null&&(x.value=p)}function St(p){n.isBounded===null&&(at.value=p)}function Et(p){E.value=p}function rt(p){u.value=p}function W(p){m.value=p}function lt(){V.value=vn()==="rtl",yt()}function mt(p){const S=p.toString();l.value=parseInt(S)}s.on("updateWidth",$),s.on("compact",Y),s.on("setDraggable",ft),s.on("setResizable",gt),s.on("setBounded",St),s.on("setTransformScale",Et),s.on("setRowHeight",rt),s.on("setMaxRows",W),s.on("directionchange",lt),s.on("setColNum",mt),V.value=vn()==="rtl",d.onBeforeUnmount(()=>{s.off("updateWidth",$),s.off("compact",Y),s.off("setDraggable",ft),s.off("setResizable",gt),s.off("setBounded",St),s.off("setTransformScale",Et),s.off("setRowHeight",rt),s.off("setMaxRows",W),s.off("directionchange",lt),s.off("setColNum",mt),X.value&&X.value.unset()}),d.onMounted(()=>{(r==null?void 0:r.responsive)&&r.lastBreakpoint?l.value=Pe(r.lastBreakpoint,r==null?void 0:r.cols):l.value=r==null?void 0:r.colNum,u.value=r==null?void 0:r.rowHeight,c.value=(r==null?void 0:r.width)!==null?r==null?void 0:r.width:100,f.value=(r==null?void 0:r.margin)!==void 0?r.margin:[10,10],m.value=r==null?void 0:r.maxRows,n.isDraggable===null?y.value=r==null?void 0:r.isDraggable:y.value=n.isDraggable,n.isResizable===null?x.value=r==null?void 0:r.isResizable:x.value=n.isResizable,n.isBounded===null?at.value=r==null?void 0:r.isBounded:at.value=n.isBounded,E.value=r==null?void 0:r.transformScale,I.value=r==null?void 0:r.useCssTransforms,k.value=r==null?void 0:r.useStyleCursor,tt()});function tt(){var B,j,O,G,Nt;n.x+n.w>l.value?(M.value=0,nt.value=n.w>l.value?l.value:n.w):(M.value=n.x,nt.value=n.w);let p=vt(M.value,Z.value,nt.value,Q.value);z.value&&(p.top=(B=_.value)==null?void 0:B.top,ut.value?p.right=(j=_.value)==null?void 0:j.left:p.left=(O=_.value)==null?void 0:O.left),v.value&&(p.width=(G=h.value)==null?void 0:G.width,p.height=(Nt=h.value)==null?void 0:Nt.height);let S;I.value?ut.value?S=Ii(p.top,p.right,p.width,p.height):S=Ti(p.top,p.left,p.width,p.height):ut.value?S=_i(p.top,p.right,p.width,p.height):S=zi(p.top,p.left,p.width,p.height),H.value=S}function dt(){let p={};for(let S of["width","height"]){let j=H.value[S].match(/^(\d+)px$/);if(!j)return;p[S]=j[1]}i("container-resized",n.i,n.h,n.w,p.height,p.width)}function Pt(p){var S,B,j;{if(n.static)return;const O=hn(p);if(O==null)return;const{x:G,y:Nt}=O,ot={width:0,height:0};let N;switch(p.type){case"resizestart":{ct(),R.value=nt.value,F.value=Q.value,N=vt(M.value,Z.value,nt.value,Q.value),ot.width=N.width,ot.height=N.height,h.value=ot,v.value=!0;break}case"resizemove":{const ht=pn(L.value,it.value,G,Nt);ut.value?ot.width=Number((S=h.value)==null?void 0:S.width)-ht.deltaX/E.value:ot.width=Number((B=h.value)==null?void 0:B.width)+ht.deltaX/E.value,ot.height=Number((j=h.value)==null?void 0:j.height)+ht.deltaY/E.value,h.value=ot;break}case"resizeend":{N=vt(M.value,Z.value,nt.value,Q.value),ot.width=N.width,ot.height=N.height,h.value=null,v.value=!1;break}}N=pt(ot.height,ot.width),N.w<n.minW&&(N.w=n.minW),N.w>n.maxW&&(N.w=n.maxW),N.h<n.minH&&(N.h=n.minH),N.h>n.maxH&&(N.h=n.maxH),N.h<1&&(N.h=1),N.w<1&&(N.w=1),L.value=G,it.value=Nt,(nt.value!==N.w||Q.value!==N.h)&&i("resize",n.i,N.h,N.w,ot.height,ot.width),p.type==="resizeend"&&(R.value!==nt.value||F.value!==Q.value)&&i("resized",n.i,N.h,N.w,ot.height,ot.width);const Me={eventType:p.type,i:n.i,x:M.value,y:Z.value,h:N.h,w:N.w};s.emit("resizeEvent",Me)}}function ze(p){var ot,N,Me;if(n.static||v.value)return;const S=hn(p);if(S===null)return;const{x:B,y:j}=S;let O={top:0,left:0};switch(p.type){case"dragstart":{U.value=M.value,J.value=Z.value;const ht=p.target;let At=ht.offsetParent.getBoundingClientRect(),Tt=ht.getBoundingClientRect();const ae=Tt.left/E.value,le=At.left/E.value,nn=Tt.right/E.value,on=At.right/E.value,rn=Tt.top/E.value,sn=At.top/E.value;ut.value?O.left=(nn-on)*-1:O.left=ae-le,O.top=rn-sn,_.value=O,z.value=!0;break}case"dragend":{if(!z.value)return;i("dragend",p,n.i);const ht=p.target;let At=ht.offsetParent.getBoundingClientRect(),Tt=ht.getBoundingClientRect();const ae=Tt.left/E.value,le=At.left/E.value,nn=Tt.right/E.value,on=At.right/E.value,rn=Tt.top/E.value,sn=At.top/E.value;ut.value?O.left=(nn-on)*-1:O.left=ae-le,O.top=rn-sn,_.value=null,z.value=!1;break}case"dragmove":{i("dragging",p,n.i);const ht=pn(A.value,w.value,B,j);if(ut.value?O.left=Number((ot=_.value)==null?void 0:ot.left)-ht.deltaX/E.value:O.left=Number((N=_.value)==null?void 0:N.left)+ht.deltaX/E.value,O.top=Number((Me=_.value)==null?void 0:Me.top)+ht.deltaY/E.value,at.value){const Tt=p.target.offsetParent.clientHeight-oe(n.h,u.value,f.value[1]);O.top=et(O.top,0,Tt);const ae=Ft(),le=c.value-oe(n.w,ae,f.value[0]);O.left=et(O.left,0,le)}_.value=O;break}}let G;ut.value,G=Vt(O.top,O.left),A.value=B,w.value=j,(M.value!==G.x||Z.value!==G.y)&&i("move",n.i,G.x,G.y),p.type==="dragend"&&(U.value!==M.value||J.value!==Z.value)&&i("moved",n.i,G.x,G.y);const Nt={eventType:p.type,i:n.i,x:G.x,y:G.y,h:Q.value,w:nt.value};s.emit("dragEvent",Nt)}function vt(p,S,B,j){const O=Ft();let G;return ut.value?G={right:Math.round(O*p+(p+1)*f.value[0]),top:Math.round(u.value*S+(S+1)*f.value[1]),width:B===1/0?B:Math.round(O*B+Math.max(0,B-1)*f.value[0]),height:j===1/0?j:Math.round(u.value*j+Math.max(0,j-1)*f.value[1])}:G={left:Math.round(O*p+(p+1)*f.value[0]),top:Math.round(u.value*S+(S+1)*f.value[1]),width:B===1/0?B:Math.round(O*B+Math.max(0,B-1)*f.value[0]),height:j===1/0?j:Math.round(u.value*j+Math.max(0,j-1)*f.value[1])},G}function Vt(p,S){const B=Ft();let j=Math.round((S-f.value[0])/(B+f.value[0])),O=Math.round((p-f.value[1])/(u.value+f.value[1]));return j=Math.max(Math.min(j,l.value-nt.value),0),O=Math.max(Math.min(O,m.value-Q.value),0),{x:j,y:O}}function Ft(){return(c.value-f.value[0]*(l.value+1))/l.value}function oe(p,S,B){return Number.isFinite(p)?Math.round(S*p+Math.max(0,p-1)*B):p}function et(p,S,B){return Math.max(Math.min(p,B),S)}function pt(p,S,B=!1){const j=Ft();let O=Math.round((S+f.value[0])/(j+f.value[0])),G=0;return B?G=Math.ceil((p+f.value[1])/(u.value+f.value[1])):G=Math.round((p+f.value[1])/(u.value+f.value[1])),O=Math.max(Math.min(O,l.value-M.value),0),G=Math.max(Math.min(G,m.value-Z.value),0),{w:O,h:G}}function kt(p,S){c.value=p,S!=null&&(l.value=S)}function yt(p){tt()}function _e(){var p;if((X.value===null||X.value===void 0)&&(X.value=xt(a.value),k.value||X.value.styleCursor(!1)),y.value&&!n.static){const S={ignoreFrom:n.dragIgnoreFrom,allowFrom:n.dragAllowFrom,...n.dragOption};X.value.draggable(S),b.value||(b.value=!0,(p=X.value)==null||p.on("dragstart dragmove dragend",function(B){ze(B)}))}else X.value.draggable({enabled:!1})}function ct(){var p;if((X.value===null||X.value===void 0)&&(X.value=xt(a.value),k.value||X.value.styleCursor(!1)),x.value&&!n.static){let S=vt(0,0,n.maxW,n.maxH),B=vt(0,0,n.minW,n.minH);const j={edges:{left:!1,right:"."+T.value.trim().replace(" ","."),bottom:"."+T.value.trim().replace(" ","."),top:!1},ignoreFrom:n.resizeIgnoreFrom,restrictSize:{min:{height:B.height*E.value,width:B.width*E.value},max:{height:S.height*E.value,width:S.width*E.value}},...n.resizeOption};n.preserveAspectRatio&&(j.modifiers=[xt.modifiers.aspectRatio({ratio:"preserve"})]),X.value.resizable(j),D.value||(D.value=!0,(p=X.value)==null||p.on("resizestart resizemove resizeend",function(O){Pt(O)}))}else X.value.resizable({enabled:!1})}const re=d.useSlots();function se(){R.value=nt.value,F.value=Q.value;let p=re==null?void 0:re.default[0].elm.getBoundingClientRect(),S=pt(p.height,p.width,!0);if(S.w<n.minW&&(S.w=n.minW),S.w>n.maxW&&(S.w=n.maxW),S.h<n.minH&&(S.h=n.minH),S.h>n.maxH&&(S.h=n.maxH),S.h<1&&(S.h=1),S.w<1&&(S.w=1),(nt.value!==S.w||Q.value!==S.h)&&i("resize",n.i,S.h,S.w,p.height,p.width),R.value!==S.w||F.value!==S.h){i("resized",n.i,S.h,S.w,p.height,p.width);const B={eventType:"resizeend",i:n.i,x:M.value,y:Z.value,h:S.h,w:S.w};s.emit("resizeEvent",B)}}return t({autoSize:se,calcXY:Vt,dragging:_,...n}),(p,S)=>(d.openBlock(),d.createElementBlock("div",{ref_key:"this$refsItem",ref:a,class:d.normalizeClass(["vue-grid-item",d.unref(Ie)]),style:d.normalizeStyle(H.value)},[d.renderSlot(p.$slots,"default",{style:d.normalizeStyle(H.value)}),d.unref(Te)?(d.openBlock(),d.createElementBlock("span",{key:0,ref:"handle",class:d.normalizeClass(d.unref(T))},null,2)):d.createCommentVNode("",!0)],6))}}),Ws="";function Wr(e){return{all:e=e||new Map,on:function(t,i){var n=e.get(t);n?n.push(i):e.set(t,[i])},off:function(t,i){var n=e.get(t);n&&(i?n.splice(n.indexOf(i)>>>0,1):e.set(t,[]))},emit:function(t,i){var n=e.get(t);n&&n.slice().map(function(o){o(i)}),(n=e.get("*"))&&n.slice().map(function(o){o(t,i)})}}}var Je={exports:{}},Fr=Je.exports={};Fr.forEach=function(e,t){for(var i=0;i<e.length;i++){var n=t(e[i]);if(n)return n}};var Nr=function(e){var t=e.stateHandler.getState;function i(s){var a=t(s);return a&&!!a.isDetectable}function n(s){t(s).isDetectable=!0}function o(s){return!!t(s).busy}function r(s,a){t(s).busy=!!a}return{isDetectable:i,markAsDetectable:n,isBusy:o,markBusy:r}},jr=function(e){var t={};function i(s){var a=e.get(s);return a===void 0?[]:t[a]||[]}function n(s,a){var l=e.get(s);t[l]||(t[l]=[]),t[l].push(a)}function o(s,a){for(var l=i(s),c=0,u=l.length;c<u;++c)if(l[c]===a){l.splice(c,1);break}}function r(s){var a=i(s);!a||(a.length=0)}return{get:i,add:n,removeListener:o,removeAllListeners:r}},Xr=function(){var e=1;function t(){return e++}return{generate:t}},Yr=function(e){var t=e.idGenerator,i=e.stateHandler.getState;function n(r){var s=i(r);return s&&s.id!==void 0?s.id:null}function o(r){var s=i(r);if(!s)throw new Error("setId required the element to have a resize detection state.");var a=t.generate();return s.id=a,a}return{get:n,set:o}},Gr=function(e){function t(){}var i={log:t,warn:t,error:t};if(!e&&window.console){var n=function(o,r){o[r]=function(){var a=console[r];if(a.apply)a.apply(console,arguments);else for(var l=0;l<arguments.length;l++)a(arguments[l])}};n(i,"log"),n(i,"warn"),n(i,"error")}return i},Ze={exports:{}},ui=Ze.exports={};ui.isIE=function(e){function t(){var n=navigator.userAgent.toLowerCase();return n.indexOf("msie")!==-1||n.indexOf("trident")!==-1||n.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var i=function(){var n,o=3,r=document.createElement("div"),s=r.getElementsByTagName("i");do r.innerHTML="<!--[if gt IE "+ ++o+"]><i></i><![endif]-->";while(s[0]);return o>4?o:n}();return e===i},ui.isLegacyOpera=function(){return!!window.opera};var fi={exports:{}},qr=fi.exports={};qr.getOption=Ur;function Ur(e,t,i){var n=e[t];return n==null&&i!==void 0?i:n}var di=fi.exports,Vr=function(t){t=t||{};var i=t.reporter,n=di.getOption(t,"async",!0),o=di.getOption(t,"auto",!0);o&&!n&&(i&&i.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var r=hi(),s,a=!1;function l(x,E){!a&&o&&n&&r.size()===0&&f(),r.add(x,E)}function c(){for(a=!0;r.size();){var x=r;r=hi(),x.process()}a=!1}function u(x){a||(x===void 0&&(x=n),s&&(m(s),s=null),x?f():c())}function f(){s=y(c)}function m(x){var E=clearTimeout;return E(x)}function y(x){var E=function(I){return setTimeout(I,0)};return E(x)}return{add:l,force:u}};function hi(){var e={},t=0,i=0,n=0;function o(a,l){l||(l=a,a=0),a>i?i=a:a<n&&(n=a),e[a]||(e[a]=[]),e[a].push(l),t++}function r(){for(var a=n;a<=i;a++)for(var l=e[a],c=0;c<l.length;c++){var u=l[c];u()}}function s(){return t}return{add:o,process:r,size:s}}var Qe="_erd";function Kr(e){return e[Qe]={},pi(e)}function pi(e){return e[Qe]}function Jr(e){delete e[Qe]}var Zr={initState:Kr,getState:pi,cleanState:Jr},ne=Ze.exports,Qr=function(e){e=e||{};var t=e.reporter,i=e.batchProcessor,n=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function o(c,u){function f(){u(c)}if(ne.isIE(8))n(c).object={proxy:f},c.attachEvent("onresize",f);else{var m=a(c);if(!m)throw new Error("Element is not detectable by this strategy.");m.contentDocument.defaultView.addEventListener("resize",f)}}function r(c){var u=e.important?" !important; ":"; ";return(c.join(u)+u).trim()}function s(c,u,f){f||(f=u,u=c,c=null),c=c||{},c.debug;function m(y,x){var E=r(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),I=!1,k=window.getComputedStyle(y),z=y.offsetWidth,_=y.offsetHeight;n(y).startSize={width:z,height:_};function v(){function h(){if(k.position==="static"){y.style.setProperty("position","relative",c.important?"important":"");var L=function(it,H,V,b){function D(F){return F.replace(/[^-\d\.]/g,"")}var R=V[b];R!=="auto"&&D(R)!=="0"&&(it.warn("An element that is positioned static has style."+b+"="+R+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+b+" will be set to 0. Element: ",H),H.style.setProperty(b,"0",c.important?"important":""))};L(t,y,k,"top"),L(t,y,k,"right"),L(t,y,k,"bottom"),L(t,y,k,"left")}}function A(){I||h();function L(H,V){if(!H.contentDocument){var b=n(H);b.checkForObjectDocumentTimeoutId&&window.clearTimeout(b.checkForObjectDocumentTimeoutId),b.checkForObjectDocumentTimeoutId=setTimeout(function(){b.checkForObjectDocumentTimeoutId=0,L(H,V)},100);return}V(H.contentDocument)}var it=this;L(it,function(V){x(y)})}k.position!==""&&(h(),I=!0);var w=document.createElement("object");w.style.cssText=E,w.tabIndex=-1,w.type="text/html",w.setAttribute("aria-hidden","true"),w.onload=A,ne.isIE()||(w.data="about:blank"),n(y)&&(y.appendChild(w),n(y).object=w,ne.isIE()&&(w.data="about:blank"))}i?i.add(v):v()}ne.isIE(8)?f(u):m(u,f)}function a(c){return n(c).object}function l(c){if(!!n(c)){var u=a(c);!u||(ne.isIE(8)?c.detachEvent("onresize",u.proxy):c.removeChild(u),n(c).checkForObjectDocumentTimeoutId&&window.clearTimeout(n(c).checkForObjectDocumentTimeoutId),delete n(c).object)}}return{makeDetectable:s,addListener:o,uninstall:l}},ts=Je.exports.forEach,es=function(e){e=e||{};var t=e.reporter,i=e.batchProcessor,n=e.stateHandler.getState;e.stateHandler.hasState;var o=e.idHandler;if(!i)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var r=u(),s="erd_scroll_detection_scrollbar_style",a="erd_scroll_detection_container";function l(v){f(v,s,a)}l(window.document);function c(v){var h=e.important?" !important; ":"; ";return(v.join(h)+h).trim()}function u(){var v=500,h=500,A=document.createElement("div");A.style.cssText=c(["position: absolute","width: "+v*2+"px","height: "+h*2+"px","visibility: hidden","margin: 0","padding: 0"]);var w=document.createElement("div");w.style.cssText=c(["position: absolute","width: "+v+"px","height: "+h+"px","overflow: scroll","visibility: none","top: "+-v*3+"px","left: "+-h*3+"px","visibility: hidden","margin: 0","padding: 0"]),w.appendChild(A),document.body.insertBefore(w,document.body.firstChild);var L=v-w.clientWidth,it=h-w.clientHeight;return document.body.removeChild(w),{width:L,height:it}}function f(v,h,A){function w(V,b){b=b||function(R){v.head.appendChild(R)};var D=v.createElement("style");return D.innerHTML=V,D.id=h,b(D),D}if(!v.getElementById(h)){var L=A+"_animation",it=A+"_animation_active",H=`/* Created by the element-resize-detector library. */
`;H+="."+A+" > div::-webkit-scrollbar { "+c(["display: none"])+` }

`,H+="."+it+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+L,"animation-name: "+L])+` }
`,H+="@-webkit-keyframes "+L+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,H+="@keyframes "+L+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",w(H)}}function m(v){v.className+=" "+a+"_animation_active"}function y(v,h,A){if(v.addEventListener)v.addEventListener(h,A);else if(v.attachEvent)v.attachEvent("on"+h,A);else return t.error("[scroll] Don't know how to add event listeners.")}function x(v,h,A){if(v.removeEventListener)v.removeEventListener(h,A);else if(v.detachEvent)v.detachEvent("on"+h,A);else return t.error("[scroll] Don't know how to remove event listeners.")}function E(v){return n(v).container.childNodes[0].childNodes[0].childNodes[0]}function I(v){return n(v).container.childNodes[0].childNodes[0].childNodes[1]}function k(v,h){var A=n(v).listeners;if(!A.push)throw new Error("Cannot add listener to an element that is not detectable.");n(v).listeners.push(h)}function z(v,h,A){A||(A=h,h=v,v=null),v=v||{};function w(){if(v.debug){var T=Array.prototype.slice.call(arguments);if(T.unshift(o.get(h),"Scroll: "),t.log.apply)t.log.apply(null,T);else for(var $=0;$<T.length;$++)t.log(T[$])}}function L(T){function $(Y){var ft=Y.getRootNode&&Y.getRootNode().contains(Y);return Y===Y.ownerDocument.body||Y.ownerDocument.body.contains(Y)||ft}return!$(T)||window.getComputedStyle(T)===null}function it(T){var $=n(T).container.childNodes[0],Y=window.getComputedStyle($);return!Y.width||Y.width.indexOf("px")===-1}function H(){var T=window.getComputedStyle(h),$={};return $.position=T.position,$.width=h.offsetWidth,$.height=h.offsetHeight,$.top=T.top,$.right=T.right,$.bottom=T.bottom,$.left=T.left,$.widthCSS=T.width,$.heightCSS=T.height,$}function V(){var T=H();n(h).startSize={width:T.width,height:T.height},w("Element start size",n(h).startSize)}function b(){n(h).listeners=[]}function D(){if(w("storeStyle invoked."),!n(h)){w("Aborting because element has been uninstalled");return}var T=H();n(h).style=T}function R(T,$,Y){n(T).lastWidth=$,n(T).lastHeight=Y}function F(T){return E(T).childNodes[0]}function U(){return 2*r.width+1}function J(){return 2*r.height+1}function M(T){return T+10+U()}function Z(T){return T+10+J()}function nt(T){return T*2+U()}function Q(T){return T*2+J()}function at(T,$,Y){var ft=E(T),gt=I(T),St=M($),Et=Z(Y),rt=nt($),W=Q(Y);ft.scrollLeft=St,ft.scrollTop=Et,gt.scrollLeft=rt,gt.scrollTop=W}function X(){var T=n(h).container;if(!T){T=document.createElement("div"),T.className=a,T.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),n(h).container=T,m(T),h.appendChild(T);var $=function(){n(h).onRendered&&n(h).onRendered()};y(T,"animationstart",$),n(h).onAnimationStart=$}return T}function Te(){function T(){var et=n(h).style;if(et.position==="static"){h.style.setProperty("position","relative",v.important?"important":"");var pt=function(kt,yt,_e,ct){function re(p){return p.replace(/[^-\d\.]/g,"")}var se=_e[ct];se!=="auto"&&re(se)!=="0"&&(kt.warn("An element that is positioned static has style."+ct+"="+se+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+ct+" will be set to 0. Element: ",yt),yt.style[ct]=0)};pt(t,h,et,"top"),pt(t,h,et,"right"),pt(t,h,et,"bottom"),pt(t,h,et,"left")}}function $(et,pt,kt,yt){return et=et?et+"px":"0",pt=pt?pt+"px":"0",kt=kt?kt+"px":"0",yt=yt?yt+"px":"0",["left: "+et,"top: "+pt,"right: "+yt,"bottom: "+kt]}if(w("Injecting elements"),!n(h)){w("Aborting because element has been uninstalled");return}T();var Y=n(h).container;Y||(Y=X());var ft=r.width,gt=r.height,St=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Et=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat($(-(1+ft),-(1+gt),-gt,-ft))),rt=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),W=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),lt=c(["position: absolute","left: 0","top: 0"]),mt=c(["position: absolute","width: 200%","height: 200%"]),tt=document.createElement("div"),dt=document.createElement("div"),Pt=document.createElement("div"),ze=document.createElement("div"),vt=document.createElement("div"),Vt=document.createElement("div");tt.dir="ltr",tt.style.cssText=St,tt.className=a,dt.className=a,dt.style.cssText=Et,Pt.style.cssText=rt,ze.style.cssText=lt,vt.style.cssText=W,Vt.style.cssText=mt,Pt.appendChild(ze),vt.appendChild(Vt),dt.appendChild(Pt),dt.appendChild(vt),tt.appendChild(dt),Y.appendChild(tt);function Ft(){var et=n(h);et&&et.onExpand?et.onExpand():w("Aborting expand scroll handler: element has been uninstalled")}function oe(){var et=n(h);et&&et.onShrink?et.onShrink():w("Aborting shrink scroll handler: element has been uninstalled")}y(Pt,"scroll",Ft),y(vt,"scroll",oe),n(h).onExpandScroll=Ft,n(h).onShrinkScroll=oe}function tn(){function T(rt,W,lt){var mt=F(rt),tt=M(W),dt=Z(lt);mt.style.setProperty("width",tt+"px",v.important?"important":""),mt.style.setProperty("height",dt+"px",v.important?"important":"")}function $(rt){var W=h.offsetWidth,lt=h.offsetHeight,mt=W!==n(h).lastWidth||lt!==n(h).lastHeight;w("Storing current size",W,lt),R(h,W,lt),i.add(0,function(){if(!!mt){if(!n(h)){w("Aborting because element has been uninstalled");return}if(!Y()){w("Aborting because element container has not been initialized");return}if(v.debug){var dt=h.offsetWidth,Pt=h.offsetHeight;(dt!==W||Pt!==lt)&&t.warn(o.get(h),"Scroll: Size changed before updating detector elements.")}T(h,W,lt)}}),i.add(1,function(){if(!n(h)){w("Aborting because element has been uninstalled");return}if(!Y()){w("Aborting because element container has not been initialized");return}at(h,W,lt)}),mt&&rt&&i.add(2,function(){if(!n(h)){w("Aborting because element has been uninstalled");return}if(!Y()){w("Aborting because element container has not been initialized");return}rt()})}function Y(){return!!n(h).container}function ft(){function rt(){return n(h).lastNotifiedWidth===void 0}w("notifyListenersIfNeeded invoked");var W=n(h);if(rt()&&W.lastWidth===W.startSize.width&&W.lastHeight===W.startSize.height)return w("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(W.lastWidth===W.lastNotifiedWidth&&W.lastHeight===W.lastNotifiedHeight)return w("Not notifying: Size already notified");w("Current size not notified, notifying..."),W.lastNotifiedWidth=W.lastWidth,W.lastNotifiedHeight=W.lastHeight,ts(n(h).listeners,function(lt){lt(h)})}function gt(){if(w("startanimation triggered."),it(h)){w("Ignoring since element is still unrendered...");return}w("Element rendered.");var rt=E(h),W=I(h);(rt.scrollLeft===0||rt.scrollTop===0||W.scrollLeft===0||W.scrollTop===0)&&(w("Scrollbars out of sync. Updating detector elements..."),$(ft))}function St(){if(w("Scroll detected."),it(h)){w("Scroll event fired while unrendered. Ignoring...");return}$(ft)}if(w("registerListenersAndPositionElements invoked."),!n(h)){w("Aborting because element has been uninstalled");return}n(h).onRendered=gt,n(h).onExpand=St,n(h).onShrink=St;var Et=n(h).style;T(h,Et.width,Et.height)}function en(){if(w("finalizeDomMutation invoked."),!n(h)){w("Aborting because element has been uninstalled");return}var T=n(h).style;R(h,T.width,T.height),at(h,T.width,T.height)}function ut(){A(h)}function Ie(){w("Installing..."),b(),V(),i.add(0,D),i.add(1,Te),i.add(2,tn),i.add(3,en),i.add(4,ut)}w("Making detectable..."),L(h)?(w("Element is detached"),X(),w("Waiting until element is attached..."),n(h).onRendered=function(){w("Element is now attached"),Ie()}):Ie()}function _(v){var h=n(v);!h||(h.onExpandScroll&&x(E(v),"scroll",h.onExpandScroll),h.onShrinkScroll&&x(I(v),"scroll",h.onShrinkScroll),h.onAnimationStart&&x(h.container,"animationstart",h.onAnimationStart),h.container&&v.removeChild(h.container))}return{makeDetectable:z,addListener:k,uninstall:_,initDocument:l}},ie=Je.exports.forEach,ns=Nr,is=jr,os=Xr,rs=Yr,ss=Gr,gi=Ze.exports,as=Vr,Dt=Zr,ls=Qr,cs=es;function mi(e){return Array.isArray(e)||e.length!==void 0}function vi(e){if(Array.isArray(e))return e;var t=[];return ie(e,function(i){t.push(i)}),t}function yi(e){return e&&e.nodeType===1}var us=function(e){e=e||{};var t;if(e.idHandler)t={get:function(z){return e.idHandler.get(z,!0)},set:e.idHandler.set};else{var i=os(),n=rs({idGenerator:i,stateHandler:Dt});t=n}var o=e.reporter;if(!o){var r=o===!1;o=ss(r)}var s=Ct(e,"batchProcessor",as({reporter:o})),a={};a.callOnAdd=!!Ct(e,"callOnAdd",!0),a.debug=!!Ct(e,"debug",!1);var l=is(t),c=ns({stateHandler:Dt}),u,f=Ct(e,"strategy","object"),m=Ct(e,"important",!1),y={reporter:o,batchProcessor:s,stateHandler:Dt,idHandler:t,important:m};if(f==="scroll"&&(gi.isLegacyOpera()?(o.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),f="object"):gi.isIE(9)&&(o.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),f="object")),f==="scroll")u=cs(y);else if(f==="object")u=ls(y);else throw new Error("Invalid strategy name: "+f);var x={};function E(z,_,v){function h(V){var b=l.get(V);ie(b,function(R){R(V)})}function A(V,b,D){l.add(b,D),V&&D(b)}if(v||(v=_,_=z,z={}),!_)throw new Error("At least one element required.");if(!v)throw new Error("Listener required.");if(yi(_))_=[_];else if(mi(_))_=vi(_);else return o.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var w=0,L=Ct(z,"callOnAdd",a.callOnAdd),it=Ct(z,"onReady",function(){}),H=Ct(z,"debug",a.debug);ie(_,function(b){Dt.getState(b)||(Dt.initState(b),t.set(b));var D=t.get(b);if(H&&o.log("Attaching listener to element",D,b),!c.isDetectable(b)){if(H&&o.log(D,"Not detectable."),c.isBusy(b)){H&&o.log(D,"System busy making it detectable"),A(L,b,v),x[D]=x[D]||[],x[D].push(function(){w++,w===_.length&&it()});return}return H&&o.log(D,"Making detectable..."),c.markBusy(b,!0),u.makeDetectable({debug:H,important:m},b,function(F){if(H&&o.log(D,"onElementDetectable"),Dt.getState(F)){c.markAsDetectable(F),c.markBusy(F,!1),u.addListener(F,h),A(L,F,v);var U=Dt.getState(F);if(U&&U.startSize){var J=F.offsetWidth,M=F.offsetHeight;(U.startSize.width!==J||U.startSize.height!==M)&&h(F)}x[D]&&ie(x[D],function(Z){Z()})}else H&&o.log(D,"Element uninstalled before being detectable.");delete x[D],w++,w===_.length&&it()})}H&&o.log(D,"Already detecable, adding listener."),A(L,b,v),w++}),w===_.length&&it()}function I(z){if(!z)return o.error("At least one element is required.");if(yi(z))z=[z];else if(mi(z))z=vi(z);else return o.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");ie(z,function(_){l.removeAllListeners(_),u.uninstall(_),Dt.cleanState(_)})}function k(z){u.initDocument&&u.initDocument(z)}return{listenTo:E,removeListener:l.removeListener,removeAllListeners:l.removeAllListeners,uninstall:I,initDocument:k}};function Ct(e,t,i){var n=e[t];return n==null&&i!==void 0?i:n}const fs={name:"GridLayout"},bi=d.defineComponent({...fs,props:{autoSize:{type:Boolean,default:!0},colNum:{default:12},rowHeight:{default:100},maxRows:{default:1/0},margin:{default:()=>[10,10]},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},isBounded:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},restoreOnDrag:{type:Boolean,default:!1},layout:null,responsive:{type:Boolean,default:!1},responsiveLayouts:{default:()=>({})},transformScale:{default:1},breakpoints:{default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0})},cols:{default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2})},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},emits:["layout-created","layout-before-mount","layout-mounted","layout-updated","layout-ready","update:layout","breakpoint-changed"],setup(e,{expose:t,emit:i}){const n=e,o=d.ref(null),r=d.ref({}),s=d.ref(0),a=d.ref(!1),l=d.ref({x:0,y:0,w:0,h:0,i:-1}),c=d.ref({}),u=d.ref(null),f=d.ref(null),m=d.ref(null),y=d.ref(),x=d.ref({}),E=d.ref(),I=Wr();d.provide("eventBus",I);function k(b){if(!b)L();else{const{eventType:D,i:R,x:F,y:U,h:J,w:M}=b;L(D,R,F,U,J,M)}}function z(b){if(!b)w();else{const{eventType:D,i:R,x:F,y:U,h:J,w:M}=b;w(D,R,F,U,J,M)}}I.on("resizeEvent",k),I.on("dragEvent",z),i("layout-created",n.layout),d.onBeforeUnmount(()=>{I.off("resizeEvent",k),I.off("dragEvent",z),Hi("resize",h),m.value&&m.value.uninstall(x.value)}),d.onBeforeMount(()=>{i("layout-before-mount",n.layout)}),d.onMounted(()=>{i("layout-mounted",n.layout),d.nextTick(function(){Mi(n.layout),f.value=n.layout,d.nextTick(()=>{H(),h(),Ri("resize",h),jt(n.layout,n.verticalCompact),i("layout-updated",n.layout),v(),d.nextTick(()=>{m.value=us({strategy:"scroll",callOnAdd:!1}),m.value.listenTo(x.value,function(){h()})})})})}),d.watch(o,(b,D)=>{d.nextTick(()=>{I.emit("updateWidth",b),D===null&&d.nextTick(()=>{i("layout-ready",n.layout)}),v()})}),d.watch(()=>n.layout,()=>{_()}),d.watch(()=>n.layout.length,()=>{_()}),d.watch(()=>n.colNum,b=>{I.emit("setColNum",b)}),d.watch(()=>n.rowHeight,b=>{I.emit("setRowHeight",b)}),d.watch(()=>n.isDraggable,b=>{I.emit("setDraggable",b)}),d.watch(()=>n.isResizable,b=>{I.emit("setResizable",b)}),d.watch(()=>n.isBounded,b=>{I.emit("setBounded",b)}),d.watch(()=>n.transformScale,b=>{I.emit("setTransformScale",b)}),d.watch(()=>n.responsive,b=>{b||(i("update:layout",f.value||[]),I.emit("setColNum",n.colNum)),h()}),d.watch(()=>n.maxRows,b=>{I.emit("setMaxRows",b)}),d.watch(()=>n.margin,()=>{v()});function _(){if(n.layout!==void 0&&f.value!==null){if(n.layout.length!==f.value.length){let b=V(n.layout,f.value);b.length>0&&(n.layout.length>f.value.length?f.value=f.value.concat(b):f.value=f.value.filter(D=>!b.some(R=>D.i===R.i))),s.value=n.layout.length,H()}jt(n.layout,n.verticalCompact),I.emit("updateWidth",o.value),v(),i("layout-updated",n.layout)}}function v(){r.value={height:A()}}function h(){x.value!==null&&x.value!==void 0&&(o.value=x.value.offsetWidth),I.emit("resizeEvent")}function A(){return n.autoSize?Rt(n.layout)*(n.rowHeight+n.margin[1])+n.margin[1]+"px":""}function w(b,D,R,F,U,J){let M=ln(n.layout,D);M.x=R,M.y=F,M==null&&(M={x:0,y:0}),b==="dragstart"&&!n.verticalCompact&&(y.value=n.layout.reduce((nt,{i:Q,x:at,y:X})=>({...nt,[Q]:{x:at,y:X}}),{})),b==="dragmove"||b==="dragstart"?(l.value.i=D,l.value.x=R,l.value.y=F,l.value.w=J,l.value.h=U,d.nextTick(function(){a.value=!0}),I.emit("updateWidth",o.value)):d.nextTick(function(){a.value=!1});const Z=Ce(n.layout,M,R,F,!0,n.preventCollision);i("update:layout",Z),n.restoreOnDrag?(M.static=!0,jt(n.layout,n.verticalCompact,y.value),M.static=!1):jt(n.layout,n.verticalCompact),I.emit("compact"),v(),b==="dragend"&&(y.value=void 0,i("layout-updated",Z))}function L(b,D,R,F,U,J){let M=ln(n.layout,D);M==null&&(M={h:0,w:0}),J=Number(J),U=Number(U);let Z;if(n.preventCollision){const nt=cn(n.layout,{...M,w:J,h:U}).filter(Q=>Q.i!==(M==null?void 0:M.i));if(Z=nt.length>0,Z){let Q=1/0,at=1/0;nt.forEach(X=>{X.x>Number(M==null?void 0:M.x)&&(Q=Math.min(Q,X.x)),X.y>Number(M==null?void 0:M.y)&&(at=Math.min(at,X.y))}),Number.isFinite(Q)&&(M.w=Q-M.x),Number.isFinite(at)&&(M.h=at-M.y)}}Z||(M.w=J,M.h=U),b==="resizestart"||b==="resizemove"?(l.value.i=D,l.value.x=R,l.value.y=F,l.value.w=M.w,l.value.h=M.h,d.nextTick(function(){a.value=!0}),I.emit("updateWidth",o.value)):d.nextTick(function(){a.value=!1}),n.responsive&&it(),jt(n.layout,n.verticalCompact),I.emit("compact"),v(),b==="resizeend"&&i("layout-updated",n.layout)}function it(){let b=Pi(n.breakpoints,o.value),D=Pe(b,n.cols);u.value!=null&&!c.value[u.value]&&(c.value[u.value]=De(n.layout));let R=ki(f.value,c.value,n.breakpoints,b,u.value,D,n.verticalCompact);c.value[b]=R,u.value!==b&&i("breakpoint-changed",b,R),i("update:layout",R),u.value=b,I.emit("setColNum",Pe(b,n.cols))}function H(){c.value=Object.assign({},n.responsiveLayouts)}function V(b,D){let R=b.filter(function(U){return!D.some(function(J){return U.i===J.i})}),F=D.filter(function(U){return!b.some(function(J){return U.i===J.i})});return R.concat(F)}return t({...n,width:o,mergeStyle:r,lastLayoutLength:s,isDragging:a,placeholder:l,layouts:c,lastBreakpoint:u,originalLayout:f,erd:m,defaultGridItem:E,dragEvent:w}),(b,D)=>(d.openBlock(),d.createElementBlock("div",{ref_key:"this$refsLayout",ref:x,class:"vue-grid-layout",style:d.normalizeStyle(r.value)},[d.renderSlot(b.$slots,"default"),d.withDirectives(d.createVNode(Ke,{ref_key:"defaultGridItem",ref:E,class:"vue-grid-placeholder",x:l.value.x,y:l.value.y,w:l.value.w,h:l.value.h,i:l.value.i},null,8,["x","y","w","h","i"]),[[d.vShow,a.value]])],4))}}),Fs="",ds=[bi,Ke],hs={install(e){ds.forEach(t=>{e.component(t.name,t)})}};st.GridItem=Ke,st.GridLayout=bi,st.default=hs,Object.defineProperties(st,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
